
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://divijesh.tech/redhat2/storage/">
      
      <link rel="icon" href="../../assets/img/layout/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Managing Basic Storage - Divijesh Varma</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="teal">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#adding-partitions-file-systems-and-persistent-mounts" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Divijesh Varma" class="md-header__button md-logo" aria-label="Divijesh Varma" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Divijesh Varma
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Managing Basic Storage
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../linux/vi/" class="md-tabs__link">
        Linux
      </a>
    </li>
  

  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../redhat/intro/" class="md-tabs__link md-tabs__link--active">
        RedHat
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../english/vol1/" class="md-tabs__link">
        English
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../basics/threat-modeling/" class="md-tabs__link">
        Knowledge Base
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../tools/" class="md-tabs__link">
        Recommendations
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../about/" class="md-tabs__link">
        About
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Divijesh Varma" class="md-nav__button md-logo" aria-label="Divijesh Varma" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Divijesh Varma
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Linux" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_1">
          Editors
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Editors" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Editors
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/vi/" class="md-nav__link">
        Vim
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/nano/" class="md-nav__link">
        Nano
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2">
          Notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Notes" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/rhcsa/" class="md-nav__link">
        Tritree
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/user/" class="md-nav__link">
        User Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/acl/" class="md-nav__link">
        Access control lists (ACLs)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/network/" class="md-nav__link">
        Networking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/ssh/" class="md-nav__link">
        OpenSSH
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/process/" class="md-nav__link">
        Process Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/software/" class="md-nav__link">
        Software Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/systemd/" class="md-nav__link">
        Systemd Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/cron/" class="md-nav__link">
        Cron Jobs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/logs/" class="md-nav__link">
        Logs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/disk/" class="md-nav__link">
        Disk Management
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          RedHat
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="RedHat" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          RedHat
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          RHSA I (RH124)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="RHSA I (RH124)" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          RHSA I (RH124)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/intro/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/access/" class="md-nav__link">
        Accessing The Command Line
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/manage/" class="md-nav__link">
        Managing Files From The Command Line
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/help/" class="md-nav__link">
        Getting Help In Red Hat Enterprise Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/edit/" class="md-nav__link">
        Creating, Viewing, And Editing Text Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/users/" class="md-nav__link">
        Managing Local Users And Groups
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/control/" class="md-nav__link">
        Controlling Access To Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/monitor/" class="md-nav__link">
        Monitoring And Managing Linux Processes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/service/" class="md-nav__link">
        Controlling Services And Daemons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/secssh/" class="md-nav__link">
        Configuring And Securing Ssh
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/store/" class="md-nav__link">
        Analyzing And Storing Logs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/mannet/" class="md-nav__link">
        Managing Networking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/archiv/" class="md-nav__link">
        Archiving And Transferring Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/pack/" class="md-nav__link">
        Installing And Updating Software Packages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/filsys/" class="md-nav__link">
        Accessing Linux File Systems
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/support/" class="md-nav__link">
        Analyzing Servers And Getting Support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/review/" class="md-nav__link">
        Comprehensive Review
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          RHSA II (RH134)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="RHSA II (RH134)" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          RHSA II (RH134)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cmd/" class="md-nav__link">
        Improving Command-Line Productivity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/" class="md-nav__link">
        Scheduling Future Tasks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tuning/" class="md-nav__link">
        Tuning System Performance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../acls/" class="md-nav__link">
        Controlling Access To Files With Acls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../selinux/" class="md-nav__link">
        Managing Selinux Security
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Managing Basic Storage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Managing Basic Storage
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adding-partitions-file-systems-and-persistent-mounts" class="md-nav__link">
    ADDING PARTITIONS, FILE SYSTEMS, AND PERSISTENT MOUNTS
  </a>
  
    <nav class="md-nav" aria-label="ADDING PARTITIONS, FILE SYSTEMS, AND PERSISTENT MOUNTS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#partitioning-a-disk" class="md-nav__link">
    PARTITIONING A DISK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-partitions-with-parted" class="md-nav__link">
    MANAGING PARTITIONS WITH PARTED
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-file-systems" class="md-nav__link">
    CREATING FILE SYSTEMS
  </a>
  
    <nav class="md-nav" aria-label="CREATING FILE SYSTEMS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mounting-file-systems" class="md-nav__link">
    MOUNTING FILE SYSTEMS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-swap-space" class="md-nav__link">
    MANAGING SWAP SPACE
  </a>
  
    <nav class="md-nav" aria-label="MANAGING SWAP SPACE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introducing-swap-space-concepts" class="md-nav__link">
    INTRODUCING SWAP SPACE CONCEPTS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-swap-space" class="md-nav__link">
    CREATING A SWAP SPACE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#activating-a-swap-space" class="md-nav__link">
    ACTIVATING A SWAP SPACE
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    SUMMARY
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab" class="md-nav__link">
    LAB
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lvm/" class="md-nav__link">
        Managing Logical Volumes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vdo/" class="md-nav__link">
        Implementing Advanced Storage Features
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nas/" class="md-nav__link">
        Accessing Network-Attached Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../boot/" class="md-nav__link">
        Controlling The Boot Process
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../netsec/" class="md-nav__link">
        Managing Network Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../instalrhel/" class="md-nav__link">
        Installing Red Hat Enterprise Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Creview/" class="md-nav__link">
        Comprehensive Review
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          English
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="English" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          English
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4_1" type="checkbox" id="__nav_4_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4_1">
          Tutorial
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorial" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Tutorial
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../english/vol1/" class="md-nav__link">
        Vol-1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../english/vol2/" class="md-nav__link">
        Vol-2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../english/vol3/" class="md-nav__link">
        Vol-3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../english/vol4/" class="md-nav__link">
        Vol-4
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Knowledge Base
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Knowledge Base" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Knowledge Base
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_1" type="checkbox" id="__nav_5_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_1">
          The Basics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="The Basics" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          The Basics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/threat-modeling/" class="md-nav__link">
        Threat Modeling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/dns/" class="md-nav__link">
        Introduction to DNS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/multi-factor-authentication/" class="md-nav__link">
        Multi-factor Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/account-deletion/" class="md-nav__link">
        Account Deletion
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_2">
          Android
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Android" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Android
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../android/overview/" class="md-nav__link">
        Android Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../android/grapheneos-vs-calyxos/" class="md-nav__link">
        GrapheneOS vs CalyxOS
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_3">
          Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Linux" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux-desktop/overview/" class="md-nav__link">
        Linux Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux-desktop/hardening/" class="md-nav__link">
        System Hardening
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux-desktop/sandboxing/" class="md-nav__link">
        Application Sandboxing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_4">
          Advanced
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Advanced" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Advanced
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/integrating-metadata-removal/" class="md-nav__link">
        Integrating Metadata Removal
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Recommendations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Recommendations" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Recommendations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/" class="md-nav__link">
        Privacy Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_2" type="checkbox" id="__nav_6_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_2">
          Browsers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Browsers" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Browsers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../browsers/" class="md-nav__link">
        Web Browsers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_3" type="checkbox" id="__nav_6_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_3">
          Operating Systems
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Operating Systems" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          Operating Systems
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../android/" class="md-nav__link">
        Android
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux-desktop/" class="md-nav__link">
        Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../qubes/" class="md-nav__link">
        Qubes OS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../router/" class="md-nav__link">
        Router Firmware
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_4" type="checkbox" id="__nav_6_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_4">
          Providers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Providers" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_4">
          <span class="md-nav__icon md-icon"></span>
          Providers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/" class="md-nav__link">
        Cloud Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dns/" class="md-nav__link">
        DNS Resolvers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../email/" class="md-nav__link">
        Email Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../search-engines/" class="md-nav__link">
        Search Engines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../vpn/" class="md-nav__link">
        VPN Services
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_5" type="checkbox" id="__nav_6_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_5">
          Software
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Software" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_5">
          <span class="md-nav__icon md-icon"></span>
          Software
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../calendar-contacts/" class="md-nav__link">
        Calendar and Contact Sync
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/" class="md-nav__link">
        Notebooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../email-clients/" class="md-nav__link">
        Email Clients
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../encryption/" class="md-nav__link">
        Encryption Software
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../file-sharing/" class="md-nav__link">
        File Sharing and Sync
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../metadata-removal-tools/" class="md-nav__link">
        Metadata Removal Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../multi-factor-authentication/" class="md-nav__link">
        Multi-Factor Authenticators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../passwords/" class="md-nav__link">
        Password Managers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../productivity/" class="md-nav__link">
        Productivity Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../real-time-communication/" class="md-nav__link">
        Real-Time Communication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../news-aggregators/" class="md-nav__link">
        News Aggregators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../self-contained-networks/" class="md-nav__link">
        Self-Contained Networks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../video-streaming/" class="md-nav__link">
        Video Streaming
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        Heading
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adding-partitions-file-systems-and-persistent-mounts" class="md-nav__link">
    ADDING PARTITIONS, FILE SYSTEMS, AND PERSISTENT MOUNTS
  </a>
  
    <nav class="md-nav" aria-label="ADDING PARTITIONS, FILE SYSTEMS, AND PERSISTENT MOUNTS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#partitioning-a-disk" class="md-nav__link">
    PARTITIONING A DISK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managing-partitions-with-parted" class="md-nav__link">
    MANAGING PARTITIONS WITH PARTED
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-file-systems" class="md-nav__link">
    CREATING FILE SYSTEMS
  </a>
  
    <nav class="md-nav" aria-label="CREATING FILE SYSTEMS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mounting-file-systems" class="md-nav__link">
    MOUNTING FILE SYSTEMS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#managing-swap-space" class="md-nav__link">
    MANAGING SWAP SPACE
  </a>
  
    <nav class="md-nav" aria-label="MANAGING SWAP SPACE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#introducing-swap-space-concepts" class="md-nav__link">
    INTRODUCING SWAP SPACE CONCEPTS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-swap-space" class="md-nav__link">
    CREATING A SWAP SPACE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#activating-a-swap-space" class="md-nav__link">
    ACTIVATING A SWAP SPACE
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    SUMMARY
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab" class="md-nav__link">
    LAB
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  




  <h1>Managing Basic Storage</h1>

<h3 id="adding-partitions-file-systems-and-persistent-mounts">ADDING PARTITIONS, FILE SYSTEMS, AND PERSISTENT MOUNTS<a class="headerlink" href="#adding-partitions-file-systems-and-persistent-mounts" title="Permanent link">&para;</a></h3>
<h4 id="partitioning-a-disk">PARTITIONING A DISK<a class="headerlink" href="#partitioning-a-disk" title="Permanent link">&para;</a></h4>
<p>Disk partitioning allows system administrators to divide a hard drive into multiple logical storage
units, referred to as partitions. By separating a disk into partitions, system administrators can use
different partitions to perform different functions.</p>
<p>For example, disk partitioning is necessary or beneficial in these situations:</p>
<ul>
<li>
<p>Limit available space to applications or users.</p>
</li>
<li>
<p>Separate operating system and program files from user files.</p>
</li>
<li>
<p>Create a separate area for memory swapping.</p>
</li>
<li>
<p>Limit disk space use to improve the performance of diagnostic tools and backup imaging.</p>
</li>
</ul>
<p><strong>MBR Partitioning Scheme</strong></p>
<p>Since 1982, the Master Boot Record (MBR) partitioning scheme has dictated how disks are
partitioned on systems running BIOS firmware. This scheme supports a maximum of four primary
partitions. On Linux systems, with the use of extended and logical partitions, administrators can
create a maximum of 15 partitions. Because partition size data is stored as 32-bit values, disks
partitioned with the MBR scheme have a maximum disk and partition size of 2 TiB.</p>
<p><img alt="MBR partition of /dev/vdb" src="https://www.linuxprobe.com/links/RH134/images/storage/storage-mbr.svg" /></p>
<p>Because physical disks are getting larger, and SAN-based volumes even larger than that, the
2 TiB disk and partition size limit of the MBR partitioning scheme is no longer a theoretical limit,
but rather a real-world problem that system administrators encounter more and more frequently
in production environments. As a result, the legacy MBR scheme is in the process of being
superseded by the new GUID Partition Table (GPT) for disk partitioning.</p>
<p><strong>GPT Partitioning Scheme</strong></p>
<p>For systems running Unified Extensible Firmware Interface (UEFI) firmware, GPT is the standard for
laying out partition tables on physical hard disks. GPT is part of the UEFI standard and addresses
many of the limitations that the old MBR-based scheme imposes.</p>
<p>A GPT provides a maximum of 128 partitions. Unlike an MBR, which uses 32 bits for storing logical
block addresses and size information, a GPT allocates 64 bits for logical block addresses. This
allows a GPT to accommodate partitions and disks of up to eight zebibytes (ZiB) or eight billion
tebibytes.</p>
<p>In addition to addressing the limitations of the MBR partitioning scheme, a GPT also offers
some additional features and benefits. A GPT uses a globally unique identifier (GUID) to identify
each disk and partition. In contrast to an MBR, which has a single point of failure, a GPT offers
redundancy of its partition table information. The primary GPT resides at the head of the disk,
while a backup copy, the secondary GPT, is housed at the end of the disk. A GPT uses a checksum
to detect errors and corruptions in the GPT header and partition table.</p>
<h4 id="managing-partitions-with-parted">MANAGING PARTITIONS WITH PARTED<a class="headerlink" href="#managing-partitions-with-parted" title="Permanent link">&para;</a></h4>
<p>Partition editors are programs which allow administrators to make changes to a disk's partitions,
such as creating partitions, deleting partitions, and changing partition types. To perform these
operations, administrators can use the Parted partition editor for both the MBR and the GPT
partitioning scheme.</p>
<p>The <strong>parted</strong> command takes the device name of the whole disk as the first argument and one or
more subcommands. The following example uses the <strong>print</strong> subcommand to display the partition
table on the <strong>/dev/vda</strong> disk.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># parted /dev/vda print</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>Model: Virtio Block Device <span class="o">(</span>virtblk<span class="o">)</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>Disk /dev/vda: <span class="m">53</span>.7GB
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>Partition Table: msdos
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>Disk Flags:
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>Number   Start   End   Size     Type    File system   Flags
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="m">1</span>        1049kB <span class="m">10</span>.7GB <span class="m">10</span>.7GB  primary   xfs         boot
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="m">2</span>        <span class="m">10</span>.7GB <span class="m">53</span>.7GB <span class="m">42</span>.9GB  primary   xfs
</code></pre></div>
If you do not provide a subcommand, <strong>parted</strong> opens an interactive session for issuing commands.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># parted /dev/vda</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>GNU Parted <span class="m">3</span>.2
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>Using /dev/vda
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>Welcome to GNU Parted! Type <span class="s1">&#39;help&#39;</span> to view a list of commands.
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="o">(</span>parted<span class="o">)</span> print
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>Model: Virtio Block Device <span class="o">(</span>virtblk<span class="o">)</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>Disk /dev/vda: <span class="m">53</span>.7GB
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>Partition Table: msdos
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>Disk Flags:
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>Number   Start   End      Size    Type    File system   Flags
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="m">1</span>        1049kB  <span class="m">10</span>.7GB  <span class="m">10</span>.7GB   primary  xfs           boot
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="m">2</span>        <span class="m">10</span>.7GB  <span class="m">53</span>.7GB  <span class="m">42</span>.9GB   primary  xfs          
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="o">(</span>parted<span class="o">)</span> quit
</code></pre></div>
By default, <strong>parted</strong> displays all the sizes in powers of 10 (KB, MB, GB). You can change that default
with the <strong>unit</strong> subcommand which accepts the following parameters:</p>
<ul>
<li>
<p>s for sector</p>
</li>
<li>
<p>B for byte</p>
</li>
<li>
<p>MiB, GiB, or TiB (powers of 2)</p>
</li>
<li>
<p>MB, GB, or TB (powers of 10)</p>
</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># parted /dev/vda unit s print</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>Model: Virtio Block Device <span class="o">(</span>virtblk<span class="o">)</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>Disk /dev/vda: 104857600s
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>Partition Table: msdos
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>Disk Flags:
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>Number     Start       End          Size     Type     File system     Flags
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="m">1</span>          2048s      20971486s   20969439s   primary   xfs             boot
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="m">2</span>        20971520s    104857535s  83886016s   primary   xfs
</code></pre></div>
As shown in the example above, you can also specify multiple subcommands (here, <strong>unit</strong> and
<strong>print</strong>) on the same line.</p>
<p><strong>Writing the Partition Table on a New Disk</strong></p>
<p>To partition a new drive, you first have to write a disk label to it. The disk label indicates which
partitioning scheme to use.</p>
<div class="admonition info">
<p class="admonition-title">NOTE</p>
<p>Keep in mind that <strong>parted</strong> makes the changes immediately. A mistake with <strong>parted</strong>
could definitely lead to data loss.</p>
</div>
<p>As the root user, use the following command to write an MBR disk label to a disk.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># parted /dev/vdb mklabel msdos</span>
</code></pre></div>
To write a GPT disk label, use the following command.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># parted /dev/vdb mklabel gpt</span>
</code></pre></div>
<div class="admonition danger">
<p class="admonition-title">WARNING</p>
<p>The mklabel subcommand wipes the existing partition table. Only use mklabel
when the intent is to reuse the disk without regard to the existing data. If a new
label changes the partition boundaries, all data in existing file systems will become
inaccessible.</p>
</div>
<p><strong>Creating MBR Partitions</strong></p>
<p>Creating an MBR disk partition involves several steps:</p>
<ol>
<li>Specify the disk device to create the partition on.</li>
</ol>
<p>As the root user, execute the <strong>parted</strong> command and specify the disk device name as an
argument. This starts the <strong>parted</strong> command in interactive mode and displays a command
prompt.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># parted /dev/vdb</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>GNU Parted <span class="m">3</span>.2
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>Using /dev/vdb
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>Welcome to GNU Parted! Type <span class="s1">&#39;help&#39;</span> to view a list of commands.
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="o">(</span>parted<span class="o">)</span>
</code></pre></div>
2. Use the mkpart subcommand to create a new primary or extended partition.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>(parted) mkpart
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>Partition type?  primary/extended? primary
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">NOTE</p>
<p>For situations where you need more than four partitions on an MBR-partitioned
disk, create three primary partitions and one extended partition. This extended
partition serves as a container within which you can create multiple logical
partitions.</p>
</div>
<ol>
<li>Indicate the file-system type that you want to create on the partition, such as <strong>xfs</strong> or <strong>ext4</strong>.
This does not create the file system on the partition; it is only an indication of the partition
type.</li>
</ol>
<p><code>File system type?    [ext2]? xfs</code></p>
<p>To get the list of the supported file-system types, use the following command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># parted /dev/vdb help mkpart</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>mkpart PART-TYPE <span class="o">[</span>FS-TYPE<span class="o">]</span> START END     make a partition
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>  PART-TYPE is one of: primary, logical, extended
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>  FS-TYPE is one of: btrfs, nilfs2, ext4, ext3, ext2, fat32, fat16, hfsx,
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>  hfs+, hfs, jfs, swsusp, linux-swap<span class="o">(</span>v1<span class="o">)</span>, linux-swap<span class="o">(</span>v0<span class="o">)</span>, ntfs, reiserfs,
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>  hp-ufs, sun-ufs, xfs, apfs2, apfs1, asfs, amufs5, amufs4, amufs3,
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>  amufs2, amufs1, amufs0, amufs, affs7, affs6, affs5, affs4, affs3, affs2,
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>  affs1, affs0, linux-swap, linux-swap<span class="o">(</span>new<span class="o">)</span>, linux-swap<span class="o">(</span>old<span class="o">)</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>  START and END are disk locations, such as 4GB or <span class="m">10</span>%. Negative values
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>  count from the end of the disk. For example, -1s specifies exactly the
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>  last sector.
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>  <span class="s1">&#39;mkpart&#39;</span> makes a partition without creating a new file system on the
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>  partition. FS-TYPE may be specified to <span class="nb">set</span> an appropriate partition
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a>  ID.
</code></pre></div>
<ol>
<li>Specify the sector on the disk that the new partition starts on.</li>
</ol>
<p><code>Start? 2048s</code></p>
<p>Notice the s suffix to provide the value in sectors. You can also use the <strong>MiB, GiB, TiB, MB, GB</strong>,
or <strong>TB</strong> suffixes. If you do not provide a suffix, <strong>MB</strong> is the default. <strong>parted</strong> may round the value
you provide to satisfy disk constraints.</p>
<p>When <strong>parted</strong> starts, it retrieves the disk topology from the device. For example, the disk
physical block size is typically a parameter that <strong>parted</strong> collects. With that information,
<strong>parted</strong> ensures that the start position you provide correctly aligns the partition with the
disk structure. Correct partition alignment is important for optimal performance. If the start
position results in a misaligned partition, <strong>parted</strong> displays a warning. With most disks, a start
sector that is a multiple of 2048 is a safe assumption.</p>
<ol>
<li>Specify the disk sector where the new partition should end.</li>
</ol>
<p><code>End? 1000MB</code></p>
<p>With <strong>parted</strong>, you cannot directly provide the size of your partition, but you can quickly
compute it with the following formula:</p>
<p><code>Size = End - Start</code></p>
<p>As soon as you provide the end position, <strong>parted</strong> updates the partition table on the disk with
the new partition details.</p>
<ol>
<li>Exit parted.</li>
</ol>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="o">(</span>parted<span class="o">)</span> quit
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>Information: You may need to update /etc/fstab.
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1">#</span>
</code></pre></div>
7.  Run the <strong>udevadm settle</strong> command. This command waits for the system to detect the new
partition and to create the associated device file under the <strong>/dev</strong> directory. It only returns
when it is done.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># udevadm settle</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1">#</span>
</code></pre></div>
As an alternative to the interactive mode, you can also create the partition as follows:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># parted /dev/vdb mkpart primary xfs 2048s 1000MB</span>
</code></pre></div>
<strong>Creating GPT Partitions</strong></p>
<p>The GTP scheme also uses the <strong>parted</strong> command to create new partitions:</p>
<ol>
<li>Specify the disk device to create the partition on.</li>
</ol>
<p>As the root user, execute the <strong>parted</strong> command with the disk device as the only argument to
start <strong>parted</strong> in interactive mode with a command prompt.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># parted /dev/vdb</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>GNU Parted <span class="m">3</span>.2
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>Using /dev/vdb
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>Welcome to GNU Parted! Type <span class="s1">&#39;help&#39;</span> to view a list of commands.
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="o">(</span>parted<span class="o">)</span>
</code></pre></div>
2.  Use the <strong>mkpart</strong> subcommand to start creating the new partition.
With the GPT scheme, each partition is given a name.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>(parted) mkpart
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>Partition name?   []? usersdata
</code></pre></div>
3.  Indicate the file system type that you want to create on the partition, such as <strong>xfs</strong> or <strong>ext4</strong>.
This does not create the file system on the partition; it is only an indication of the partition
type.</p>
<p><code>File system type?   [ext2]? xfs</code></p>
<ol>
<li>Specify the sector on the disk that the new partition starts on.</li>
</ol>
<p><code>Start? 2048s</code></p>
<ol>
<li>Specify the disk sector where the new partition should end.</li>
</ol>
<p><code>End? 1000MB</code></p>
<p>As soon as you provide the end position, parted updates the partition table on the disk with
the new partition details.</p>
<ol>
<li>Exit <strong>parted</strong>.</li>
</ol>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="o">(</span>parted<span class="o">)</span> quit
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>Information: You may need to update /etc/fstab.
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1">#</span>
</code></pre></div>
7.  Run the <strong>udevadm settle</strong> command. This command waits for the system to detect the new
partition and to create the associated device file under the <strong>/dev</strong> directory. It only returns
when it is done.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># udevadm settle</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1">#</span>
</code></pre></div>
As an alternative to the interactive mode, you can also create the partition as follows:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># parted /dev/vdb mkpart usersdata xfs 2048s 1000MB</span>
</code></pre></div>
<strong>Deleting Partitions</strong></p>
<p>The following steps apply for both the MBR and GPT partitioning schemes.</p>
<ol>
<li>Specify the disk that contains the partition to be removed.</li>
</ol>
<p>As the root user, execute the <strong>parted</strong> command with the disk device as the only argument to
start <strong>parted</strong> in interactive mode with a command prompt.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># parted /dev/vdb</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>GNU Parted <span class="m">3</span>.2
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>Using /dev/vdb
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>Welcome to GNU Parted! Type <span class="s1">&#39;help&#39;</span> to view a list of commands.
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="o">(</span>parted<span class="o">)</span>
</code></pre></div>
2.  Identify the partition number of the partition to delete.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="o">(</span>parted<span class="o">)</span> print
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>Model: Virtio Block Device <span class="o">(</span>virtblk<span class="o">)</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>Disk /dev/vdb: 5369MB
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>Partition Table: gpt
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>Disk Flags:
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>Number   Start   End      Size   File system   Name       Flags
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="m">1</span>        1049kB  1000MB   999MB    xfs         usersdata
</code></pre></div>
3.  Delete the partition.</p>
<p><code>(parted) rm 1</code></p>
<p>The <strong>rm</strong> subcommand immediately deletes the partition from the partition table on the disk.</p>
<ol>
<li>Exit <strong>parted</strong>.</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="o">(</span>parted<span class="o">)</span> quit
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>Information: You may need to update /etc/fstab.
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1">#</span>
</code></pre></div>
<h3 id="creating-file-systems">CREATING FILE SYSTEMS<a class="headerlink" href="#creating-file-systems" title="Permanent link">&para;</a></h3>
<p>After the creation of a block device, the next step is to add a file system to it. Red Hat
Enterprise Linux supports many different file system types, but two common ones are XFS and
ext4. Anaconda, the installer for Red Hat Enterprise Linux, uses XFS by default.</p>
<p>As root, use the <strong>mkfs.xfs</strong> command to apply an XFS file system to a block device. For ext4, use
<strong>mkfs.ext4</strong>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># mkfs.xfs /dev/vdb1</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>meta-data<span class="o">=</span>/dev/vdb1          <span class="nv">isize</span><span class="o">=</span><span class="m">512</span>       <span class="nv">agcount</span><span class="o">=</span><span class="m">4</span>, <span class="nv">agsize</span><span class="o">=</span><span class="m">60992</span> <span class="nv">blks</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>        <span class="o">=</span>                    <span class="nv">sectsz</span><span class="o">=</span><span class="m">512</span>      <span class="nv">attr</span><span class="o">=</span><span class="m">2</span>, <span class="nv">projid32bit</span><span class="o">=</span><span class="nv">1</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>        <span class="o">=</span>                    <span class="nv">crc</span><span class="o">=</span><span class="m">1</span>           <span class="nv">finobt</span><span class="o">=</span><span class="m">1</span>, <span class="nv">sparse</span><span class="o">=</span><span class="m">1</span>, <span class="nv">rmapbt</span><span class="o">=</span><span class="nv">0</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>        <span class="o">=</span>                    <span class="nv">reflink</span><span class="o">=</span><span class="m">1</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="nv">data</span>    <span class="o">=</span>                    <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>       <span class="nv">blocks</span><span class="o">=</span><span class="m">243968</span>, <span class="nv">imaxpct</span><span class="o">=</span><span class="nv">25</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>        <span class="o">=</span>                    <span class="nv">sunit</span><span class="o">=</span><span class="m">0</span>          <span class="nv">swidth</span><span class="o">=</span><span class="m">0</span> blks
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="nv">naming</span>  <span class="o">=</span>version <span class="m">2</span>           <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>       ascii-ci<span class="o">=</span><span class="m">0</span>, <span class="nv">ftype</span><span class="o">=</span><span class="m">1</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="nv">log</span>     <span class="o">=</span>internal log        <span class="nv">bsize</span><span class="o">=</span><span class="m">4096</span>       <span class="nv">blocks</span><span class="o">=</span><span class="m">1566</span>, <span class="nv">version</span><span class="o">=</span><span class="nv">2</span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>        <span class="o">=</span>                    <span class="nv">sectsz</span><span class="o">=</span><span class="m">512</span>       <span class="nv">sunit</span><span class="o">=</span><span class="m">0</span> blks, lazy-count<span class="o">=</span><span class="m">1</span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="nv">realtime</span> <span class="o">=</span>none               <span class="nv">extsz</span><span class="o">=</span><span class="m">4096</span>       <span class="nv">blocks</span><span class="o">=</span><span class="m">0</span>, <span class="nv">rtextents</span><span class="o">=</span><span class="m">0</span>
</code></pre></div>
<h4 id="mounting-file-systems">MOUNTING FILE SYSTEMS<a class="headerlink" href="#mounting-file-systems" title="Permanent link">&para;</a></h4>
<p>After you have added the file system, the last step is to mount the file system to a directory in the
directory structure. When you mount a file system onto the directory hierarchy, user-space utilities
can access or write files on the device.</p>
<p><strong>Manually Mounting File Systems</strong></p>
<p>Administrators use the <strong>mount</strong> command to manually attach the device onto a directory location,
or mount point. The <strong>mount</strong> command expects the device, the mount point, and optionally file
system options as arguments. The file-system options customize the behavior of the file system.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># mount /dev/vdb1 /mnt</span>
</code></pre></div>
You also use the <strong>mount</strong> command to view currently mounted file systems, the mount points, and
the options.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># mount | grep vdb1</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>/dev/vdb1 on /mnt <span class="nb">type</span> xfs <span class="o">(</span>rw,relatime,seclabel,attr2,inode64,noquota<span class="o">)</span>
</code></pre></div>
<strong>Persistently Mounting File Systems</strong></p>
<p>Manually mounting a file system is a good way to verify that a formatted device is accessible and
working as expected. However, when the server reboots, the system does not automatically mount
the file system onto the directory tree again; the data is intact on the file system, but users cannot
access it.</p>
<p>To make sure that the system automatically mounts the file system at system boot, add an entry to
the <strong>/etc/fstab</strong> file. This configuration file lists the file systems to mount at system boot.</p>
<p><strong>/etc/fstab</strong> is a white-space-delimited file with six fields per line.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># cat /etc/fstab</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="c1">#</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="c1"># /etc/fstab</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="c1"># Created by anaconda on Wed Feb 13 16:39:59 2019</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="c1">#</span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="c1"># Accessible filesystems, by reference, are maintained under &#39;/dev/disk/&#39;.</span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="c1"># See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info.</span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="c1">#</span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="c1"># After editing this file, run &#39;systemctl daemon-reload&#39; to update systemd</span>
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="c1"># units generated from this file.</span>
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="c1">#</span>
<a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="nv">UUID</span><span class="o">=</span>a8063676-44dd-409a-b584-68be2c9f5570    /          xfs     defaults    <span class="m">0</span> <span class="m">0</span>
<a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="nv">UUID</span><span class="o">=</span>7a20315d-ed8b-4e75-a5b6-24ff9e1f9838    /dbdata    xfs     defaults    <span class="m">0</span> <span class="m">0</span>
</code></pre></div>
<p>When you add or remove an entry in the <strong>/etc/fstab</strong> file, run the <strong>systemctl daemon-reload</strong>
command, or reboot the server, for systemd to register the new configuration.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># systemctl daemon-reload</span>
</code></pre></div>
The first field specifies the device. This example uses the UUID to specify the device. File systems
create and store the UUID in their super block at creation time. Alternatively, you could use the
device file, such as <strong>/dev/vdb1</strong>.</p>
<div class="admonition info">
<p class="admonition-title">NOTE</p>
<p>Using the UUID is preferable because block device identifiers can change in certain
scenarios, such as a cloud provider changing the underlying storage layer of a virtual
machine, or the disks being detected in a different order with each system boot.
The block device file name may change, but the UUID remains constant in the file
system's super block.</p>
<p>Use the <strong>lsblk --fs</strong> command to scan the block devices connected to a machine
and retrieve the file system UUIDs.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># lsblk --fs</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>NAME        FSTYPE LABEL UUID                    MOUNTPOINT
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>sr0
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>vda       a8063676-44dd-409a-b584-68be2c9f5570      /
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>vda1 xfs
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a>vdb       7a20315d-ed8b-4e75-a5b6-24ff9e1f9838      /dbdata 
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a>vdb1 xfs
</code></pre></div>
</div>
<p>The second field is the directory mount point, from which the block device will be accessible in the
directory structure. The mount point must exist; if not, create it with the <strong>mkdir</strong> command.</p>
<p>The third field contains the file-system type, such as <strong>xfs</strong> or <strong>ext4</strong>.</p>
<p>The fourth field is the comma-separated list of options to apply to the device. <strong>defaults</strong> is a set
of commonly used options. The <strong>mount</strong>(8) man page documents the other available options.</p>
<p>The fifth field is used by the <strong>dump</strong> command to back up the device. Other backup applications do
not usually use this field.</p>
<p>The last field, the <strong>fsck</strong> order field, determines if the <strong>fsck</strong> command should be run at system boot
to verify that the file systems are clean. The value in this field indicates the order in which <strong>fsck</strong>
should run. For XFS file systems, set this field to <strong>0</strong> because XFS does not use fsck to check its
file-system status. For ext4 file systems, set it to <strong>1</strong> for the root file system and <strong>2</strong> for the other ext4 file systems. This way, <strong>fsck</strong> processes the root file system first and then checks file systems on
separate disks concurrently, and file systems on the same disk in sequence.</p>
<div class="admonition info">
<p class="admonition-title">NOTE</p>
<p>Having an incorrect entry in <strong>/etc/fstab</strong> may render the machine non-bootable.
Administrators should verify that the entry is valid by unmounting the new file
system and using <strong>mount /mountpoint</strong>, which reads <strong>/etc/fstab</strong>, to remount the
file system. If the <strong>mount</strong> command returns an error, correct it before rebooting the
machine.</p>
<p>As an alternative, you can use the <strong>findmnt --verify</strong> command to control the <strong>/etc/fstab</strong> file.</p>
</div>
<h3 id="managing-swap-space">MANAGING SWAP SPACE<a class="headerlink" href="#managing-swap-space" title="Permanent link">&para;</a></h3>
<h4 id="introducing-swap-space-concepts">INTRODUCING SWAP SPACE CONCEPTS<a class="headerlink" href="#introducing-swap-space-concepts" title="Permanent link">&para;</a></h4>
<p>A swap space is an area of a disk under the control of the Linux kernel memory management
subsystem. The kernel uses swap space to supplement the system RAM by holding inactive pages
of memory. The combined system RAM plus swap space is called virtual memory.</p>
<p>When the memory usage on a system exceeds a defined limit, the kernel searches through RAM
looking for idle memory pages assigned to processes. The kernel writes the idle pages to the swap
area and reassigns the RAM pages to other processes. If a program requires access to a page on
disk, the kernel locates another idle page of memory, writes it to disk, then recalls the needed page
from the swap area.</p>
<p>Because swap areas reside on disk, swap is slow when compared with RAM. While it is used
to augment system RAM, you should not consider swap space as a sustainable solution for
insufficient RAM for your workload.</p>
<p><strong>Sizing the Swap Space</strong></p>
<p>Administrators should size the swap space based on the memory workload on the system.
Application vendors sometimes provide recommendations on that subject. The following table
provides some guidance based on the total amount of physical memory.</p>
<p><strong>RAM and Swap Space Recommendations</strong></p>
<table>
<thead>
<tr>
<th>RAM</th>
<th>SWAP SPACE</th>
<th>SWAP SPACE IF ALLOWING FOR HIBERNATION</th>
</tr>
</thead>
<tbody>
<tr>
<td>2 GiB or less</td>
<td>Twice the RAM</td>
<td>Three times the RAM</td>
</tr>
<tr>
<td>Between 2 GiB and 8 GiB</td>
<td>Same as RAM</td>
<td>Twice the RAM</td>
</tr>
<tr>
<td>Between 8 GiB and 64 GiB</td>
<td>At least 4 GiB</td>
<td>1.5 times the RAM</td>
</tr>
<tr>
<td>More than 64 GiB</td>
<td>At least 4 GiB</td>
<td>Hibernation is not recommended</td>
</tr>
</tbody>
</table>
<p>The laptop and desktop hibernation function uses the swap space to save the RAM contents
before powering off the system. When you turn the system back on, the kernel restores the RAM
contents from the swap space and does not need a complete boot. For those systems, the swap
space needs to be greater than the amount of RAM.</p>
<p>The Knowledgebase article in the Reference section at the end of this section gives more
guidance on sizing the swap space.</p>
<h4 id="creating-a-swap-space">CREATING A SWAP SPACE<a class="headerlink" href="#creating-a-swap-space" title="Permanent link">&para;</a></h4>
<p>To create a swap space, you need to perform the following:</p>
<ul>
<li>Create a partition with a file system type of linux-swap.</li>
<li>Place a swap signature on the device.</li>
</ul>
<p><strong>Creating a Swap Partition</strong></p>
<p>Use <strong>parted</strong> to create a partition of the desired size and set its file system type to <strong>linux-swap</strong>.
In the past, tools looked at the partition file system type to determine if the device should be
activated; however, that is no longer the case. Even though utilities no longer use the partition file
system type, setting that type allows administrators to quickly determine the partition's purpose.</p>
<p>The following example creates a 256 MB partition.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># parted /dev/vdb</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>GNU Parted <span class="m">3</span>.2
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>Using /dev/vdb
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>Welcome to GNU Parted! Type <span class="s1">&#39;help&#39;</span> to view a list of commands.
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="o">(</span>parted<span class="o">)</span> print
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>Model: Virtio Block Device <span class="o">(</span>virtblk<span class="o">)</span>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>Disk /dev/vdb: 5369MB
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>Partition Table: gpt
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a>Disk Flags:
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a>
<a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a>Number     Start     End     Size      File system     Name             Flags
<a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a><span class="m">1</span>          1049kB    1001MB   1000MB                    data       
<a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a>
<a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a><span class="o">(</span>parted<span class="o">)</span>     mkpart     
<a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a>Partition name?     <span class="o">[</span> <span class="o">]</span>? swap1
<a id="__codelineno-25-17" name="__codelineno-25-17" href="#__codelineno-25-17"></a>File system type?   <span class="o">[</span>ext2<span class="o">]</span>? linux-swap
<a id="__codelineno-25-18" name="__codelineno-25-18" href="#__codelineno-25-18"></a>Start?    1001MB
<a id="__codelineno-25-19" name="__codelineno-25-19" href="#__codelineno-25-19"></a>End?     1257MB
<a id="__codelineno-25-20" name="__codelineno-25-20" href="#__codelineno-25-20"></a><span class="o">(</span>parted<span class="o">)</span>    print
<a id="__codelineno-25-21" name="__codelineno-25-21" href="#__codelineno-25-21"></a>Model: Virtio Block Device <span class="o">(</span>virtblk<span class="o">)</span>
<a id="__codelineno-25-22" name="__codelineno-25-22" href="#__codelineno-25-22"></a>Disk /dev/vdb: 5369MB
<a id="__codelineno-25-23" name="__codelineno-25-23" href="#__codelineno-25-23"></a>Sector size <span class="o">(</span>logical/physical<span class="o">)</span>: 512B/512B
<a id="__codelineno-25-24" name="__codelineno-25-24" href="#__codelineno-25-24"></a>Partition Table: gpt
<a id="__codelineno-25-25" name="__codelineno-25-25" href="#__codelineno-25-25"></a>Disk Flags:
<a id="__codelineno-25-26" name="__codelineno-25-26" href="#__codelineno-25-26"></a>
<a id="__codelineno-25-27" name="__codelineno-25-27" href="#__codelineno-25-27"></a>Number       Start       End       Size      File system      Name      Flags
<a id="__codelineno-25-28" name="__codelineno-25-28" href="#__codelineno-25-28"></a><span class="m">1</span>            1049kB      1001MB    1000MB                     data
<a id="__codelineno-25-29" name="__codelineno-25-29" href="#__codelineno-25-29"></a><span class="m">2</span>            1001MB      1257MB    256MB     linux-swap<span class="o">(</span>v1<span class="o">)</span>   swap1
<a id="__codelineno-25-30" name="__codelineno-25-30" href="#__codelineno-25-30"></a>
<a id="__codelineno-25-31" name="__codelineno-25-31" href="#__codelineno-25-31"></a><span class="o">(</span>parted<span class="o">)</span> quit
<a id="__codelineno-25-32" name="__codelineno-25-32" href="#__codelineno-25-32"></a>Information: You may need to update /etc/fstab.
</code></pre></div>
After creating the partition, run the <strong>udevadm settle</strong> command. This command waits for the
system to detect the new partition and to create the associated device file in <strong>/dev</strong>. It only returns
when it is done.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># udevadm settle</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1">#</span>
</code></pre></div>
<strong>Formatting the Device</strong></p>
<p>The <strong>mkswap</strong> command applies a swap signature to the device. Unlike other formatting utilities,
<strong>mkswap</strong> writes a single block of data at the beginning of the device, leaving the rest of the device
unformatted so the kernel can use it for storing memory pages.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># mkswap /dev/vdb2</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>Setting up swapspace version <span class="m">1</span>, <span class="nv">size</span> <span class="o">=</span> <span class="m">244</span> MiB <span class="o">(</span><span class="m">255848448</span> bytes<span class="o">)</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>no label, <span class="nv">UUID</span><span class="o">=</span>39e2667a-9458-42fe-9665-c5c854605881
</code></pre></div>
<h4 id="activating-a-swap-space">ACTIVATING A SWAP SPACE<a class="headerlink" href="#activating-a-swap-space" title="Permanent link">&para;</a></h4>
<p>You can use the <strong>swapon</strong> command to activate a formatted swap space.</p>
<p>Use <strong>swapon</strong> with the device as a parameter, or use <strong>swapon -a</strong> to activate all the swap spaces
listed in the <strong>/etc/fstab</strong> file. Use the <strong>swapon --show</strong> and <strong>free</strong> commands to inspect the
available swap spaces.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># free</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>        total        used        free      shared    buff/cache      available
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>Mem:   <span class="m">1873036</span>       <span class="m">134688</span>      <span class="m">1536436</span>     <span class="m">16748</span>     <span class="m">201912</span>          <span class="m">1576044</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>Swap:    <span class="m">0</span>             <span class="m">0</span>           <span class="m">0</span>          
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># swapon /dev/vdb2</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># free</span>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>        total        used        free      shared     buff/cache      available
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>Mem:   <span class="m">1873036</span>       <span class="m">135044</span>      <span class="m">1536040</span>     <span class="m">16748</span>       <span class="m">201952</span>          <span class="m">1575680</span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>Swap:   <span class="m">249852</span>         <span class="m">0</span>           <span class="m">249852</span>
</code></pre></div>
You can deactivate a swap space using the <strong>swapoff</strong> command. If the swap space has pages
written to it, <strong>swapoff</strong> tries to move those pages to other active swap spaces or back into
memory. If it cannot write data to other places, the <strong>swapoff</strong> command fails with an error, and the
swap space stays active.</p>
<p><strong>Activating Swap Space Persistently</strong></p>
<p>To activate a swap space at every boot, place an entry in the <strong>/etc/fstab</strong> file. The example below
shows a typical line in <strong>/etc/fstab</strong> based on the swap space created above.</p>
<p><code>UUID=39e2667a-9458-42fe-9665-c5c854605881      swap      swap      defaults      0 0</code></p>
<p>The example uses the UUID as the first field. When you format the device, the <strong>mkswap</strong> command
displays that UUID. If you lost the output of <strong>mkswap</strong>, use the <strong>lsblk --fs</strong> command. As an
alternative, you can also use the device name in the first field.</p>
<p>The second field is typically reserved for the mount point. However, for swap devices, which are not
accessible through the directory structure, this field takes the placeholder value <strong>swap</strong>.</p>
<p>The third field is the file system type. The file system type for swap space is <strong>swap</strong>.</p>
<p>The fourth field is for options. The example uses the <strong>defaults</strong> option. The <strong>defaults</strong> option
includes the mount option <strong>auto</strong>, which means activate the swap space automatically at system
boot.
The final two fields are the <strong>dump</strong> flag and <strong>fsck</strong> order. Swap spaces require neither backing up nor
file-system checking and so these fields should be set to zero.</p>
<p>When you add or remove an entry in the <strong>/etc/fstab</strong> file, run the <strong>systemctl daemon-reload</strong> command, or reboot the server, for systemd to register the new configuration.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># systemctl daemon-reload</span>
</code></pre></div>
<strong>Setting the Swap Space Priority</strong></p>
<p>By default, the system uses swap spaces in series, meaning that the kernel uses the first activated
swap space until it is full, then it starts using the second swap space. However, you can define a
priority for each swap space to force that order.</p>
<p>To set the priority, use the <strong>pri</strong> option in <strong>/etc/fstab</strong>. The kernel uses the swap space with the
highest priority first. The default priority is -2.</p>
<p>The following example shows three swap spaces defined in <strong>/etc/fstab</strong>. The kernel uses the last
entry first, with <strong>pri=10</strong>. When that space is full, it uses the second entry, with <strong>pri=4</strong>. Finally, it
uses the first entry, which has a default priority of -2.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>UUID=af30cbb0-3866-466a-825a-58889a49ef33        swap      swap      defaults      0 0
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>UUID=39e2667a-9458-42fe-9665-c5c854605881        swap      swap       pri=4        0 0
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>UUID=fbd7fa60-b781-44a8-961b-37ac3ef572bf        swap      swap       pri=10       0 0
</code></pre></div>
Use <strong>swapon --show</strong> to display the swap space priorities.</p>
<p>When swap spaces have the same priority, the kernel writes to them in a round-robin fashion.</p>
<h3 id="summary">SUMMARY<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h3>
<p>In this chapter, you learned:</p>
<ul>
<li>
<p>You use the <strong>parted</strong> command to add, modify, and remove partitions on disks with the MBR or
the GPT partitioning scheme.</p>
</li>
<li>
<p>You use the <strong>mkfs.xfs</strong> command to create XFS file systems on disk partitions.</p>
</li>
<li>
<p>You need to add file-system mount commands to <strong>/etc/fstab</strong> to make those mounts
persistent.</p>
</li>
<li>
<p>You use the <strong>mkswap</strong> command to initialize swap spaces.</p>
</li>
</ul>
<h3 id="lab">LAB<a class="headerlink" href="#lab" title="Permanent link">&para;</a></h3>
<p>pdf - 183</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">December 6, 2022</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../selinux/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Managing Selinux Security" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Managing Selinux Security
            </div>
          </div>
        </a>
      
      
        
        <a href="../lvm/" class="md-footer__link md-footer__link--next" aria-label="Next: Managing Logical Volumes" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Managing Logical Volumes
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 Divijesh Varma. All rights reserved.
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "navigation.top", "navigation.sections", "content.tooltips", "header.autohide"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="../../javascripts/feedback.js"></script>
      
    
    
  </body>
</html>