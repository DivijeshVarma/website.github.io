
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://divijesh.tech/redhat2/acls/">
      
      <link rel="icon" href="../../assets/img/layout/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Controlling Access To Files With Acls - Divijesh Varma</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="teal">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#interpreting-file-acls" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Divijesh Varma" class="md-header__button md-logo" aria-label="Divijesh Varma" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Divijesh Varma
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Controlling Access To Files With Acls
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../linux/vi/" class="md-tabs__link">
        Linux
      </a>
    </li>
  

  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../redhat/intro/" class="md-tabs__link md-tabs__link--active">
        RedHat
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../english/vol1/" class="md-tabs__link">
        English
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../basics/threat-modeling/" class="md-tabs__link">
        Knowledge Base
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../tools/" class="md-tabs__link">
        Recommendations
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../about/" class="md-tabs__link">
        About
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Divijesh Varma" class="md-nav__button md-logo" aria-label="Divijesh Varma" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Divijesh Varma
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Linux" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_1">
          Editors
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Editors" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Editors
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/vi/" class="md-nav__link">
        Vim
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/nano/" class="md-nav__link">
        Nano
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2">
          Notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Notes" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/rhcsa/" class="md-nav__link">
        Tritree
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/user/" class="md-nav__link">
        User Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/acl/" class="md-nav__link">
        Access control lists (ACLs)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/network/" class="md-nav__link">
        Networking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/ssh/" class="md-nav__link">
        OpenSSH
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/process/" class="md-nav__link">
        Process Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/software/" class="md-nav__link">
        Software Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/systemd/" class="md-nav__link">
        Systemd Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/cron/" class="md-nav__link">
        Cron Jobs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/logs/" class="md-nav__link">
        Logs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/disk/" class="md-nav__link">
        Disk Management
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          RedHat
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="RedHat" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          RedHat
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          RHSA I (RH124)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="RHSA I (RH124)" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          RHSA I (RH124)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/intro/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/access/" class="md-nav__link">
        Accessing The Command Line
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/manage/" class="md-nav__link">
        Managing Files From The Command Line
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/help/" class="md-nav__link">
        Getting Help In Red Hat Enterprise Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/edit/" class="md-nav__link">
        Creating, Viewing, And Editing Text Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/users/" class="md-nav__link">
        Managing Local Users And Groups
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/control/" class="md-nav__link">
        Controlling Access To Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/monitor/" class="md-nav__link">
        Monitoring And Managing Linux Processes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/service/" class="md-nav__link">
        Controlling Services And Daemons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/secssh/" class="md-nav__link">
        Configuring And Securing Ssh
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/store/" class="md-nav__link">
        Analyzing And Storing Logs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/mannet/" class="md-nav__link">
        Managing Networking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/archiv/" class="md-nav__link">
        Archiving And Transferring Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/pack/" class="md-nav__link">
        Installing And Updating Software Packages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/filsys/" class="md-nav__link">
        Accessing Linux File Systems
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/support/" class="md-nav__link">
        Analyzing Servers And Getting Support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/review/" class="md-nav__link">
        Comprehensive Review
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          RHSA II (RH134)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="RHSA II (RH134)" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          RHSA II (RH134)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cmd/" class="md-nav__link">
        Improving Command-Line Productivity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/" class="md-nav__link">
        Scheduling Future Tasks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tuning/" class="md-nav__link">
        Tuning System Performance
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Controlling Access To Files With Acls
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Controlling Access To Files With Acls
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#interpreting-file-acls" class="md-nav__link">
    INTERPRETING FILE ACLS
  </a>
  
    <nav class="md-nav" aria-label="INTERPRETING FILE ACLS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#access-control-list-concepts" class="md-nav__link">
    ACCESS CONTROL LIST CONCEPTS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viewing-and-interpreting-acl-permissions" class="md-nav__link">
    VIEWING AND INTERPRETING ACL PERMISSIONS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples-of-acl-use-by-the-operating-system" class="md-nav__link">
    EXAMPLES OF ACL USE BY THE OPERATING SYSTEM
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#securing-files-with-acls" class="md-nav__link">
    SECURING FILES WITH ACLS
  </a>
  
    <nav class="md-nav" aria-label="SECURING FILES WITH ACLS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changing-acl-file-permissions" class="md-nav__link">
    CHANGING ACL FILE PERMISSIONS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controlling-default-acl-file-permissions" class="md-nav__link">
    CONTROLLING DEFAULT ACL FILE PERMISSIONS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    SUMMARY
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab" class="md-nav__link">
    LAB
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../selinux/" class="md-nav__link">
        Managing Selinux Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storage/" class="md-nav__link">
        Managing Basic Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../lvm/" class="md-nav__link">
        Managing Logical Volumes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vdo/" class="md-nav__link">
        Implementing Advanced Storage Features
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nas/" class="md-nav__link">
        Accessing Network-Attached Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../boot/" class="md-nav__link">
        Controlling The Boot Process
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../netsec/" class="md-nav__link">
        Managing Network Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../instalrhel/" class="md-nav__link">
        Installing Red Hat Enterprise Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Creview/" class="md-nav__link">
        Comprehensive Review
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          English
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="English" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          English
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4_1" type="checkbox" id="__nav_4_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4_1">
          Tutorial
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorial" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Tutorial
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../english/vol1/" class="md-nav__link">
        Vol-1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../english/vol2/" class="md-nav__link">
        Vol-2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../english/vol3/" class="md-nav__link">
        Vol-3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../english/vol4/" class="md-nav__link">
        Vol-4
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Knowledge Base
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Knowledge Base" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Knowledge Base
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_1" type="checkbox" id="__nav_5_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_1">
          The Basics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="The Basics" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          The Basics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/threat-modeling/" class="md-nav__link">
        Threat Modeling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/dns/" class="md-nav__link">
        Introduction to DNS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/multi-factor-authentication/" class="md-nav__link">
        Multi-factor Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/account-deletion/" class="md-nav__link">
        Account Deletion
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_2">
          Android
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Android" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Android
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../android/overview/" class="md-nav__link">
        Android Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../android/grapheneos-vs-calyxos/" class="md-nav__link">
        GrapheneOS vs CalyxOS
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_3">
          Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Linux" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux-desktop/overview/" class="md-nav__link">
        Linux Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux-desktop/hardening/" class="md-nav__link">
        System Hardening
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux-desktop/sandboxing/" class="md-nav__link">
        Application Sandboxing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_4">
          Advanced
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Advanced" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Advanced
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/integrating-metadata-removal/" class="md-nav__link">
        Integrating Metadata Removal
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Recommendations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Recommendations" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Recommendations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/" class="md-nav__link">
        Privacy Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_2" type="checkbox" id="__nav_6_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_2">
          Browsers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Browsers" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Browsers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../browsers/" class="md-nav__link">
        Web Browsers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_3" type="checkbox" id="__nav_6_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_3">
          Operating Systems
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Operating Systems" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          Operating Systems
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../android/" class="md-nav__link">
        Android
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux-desktop/" class="md-nav__link">
        Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../qubes/" class="md-nav__link">
        Qubes OS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../router/" class="md-nav__link">
        Router Firmware
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_4" type="checkbox" id="__nav_6_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_4">
          Providers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Providers" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_4">
          <span class="md-nav__icon md-icon"></span>
          Providers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/" class="md-nav__link">
        Cloud Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dns/" class="md-nav__link">
        DNS Resolvers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../email/" class="md-nav__link">
        Email Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../search-engines/" class="md-nav__link">
        Search Engines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../vpn/" class="md-nav__link">
        VPN Services
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_5" type="checkbox" id="__nav_6_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_5">
          Software
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Software" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_5">
          <span class="md-nav__icon md-icon"></span>
          Software
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../calendar-contacts/" class="md-nav__link">
        Calendar and Contact Sync
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/" class="md-nav__link">
        Notebooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../email-clients/" class="md-nav__link">
        Email Clients
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../encryption/" class="md-nav__link">
        Encryption Software
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../file-sharing/" class="md-nav__link">
        File Sharing and Sync
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../metadata-removal-tools/" class="md-nav__link">
        Metadata Removal Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../multi-factor-authentication/" class="md-nav__link">
        Multi-Factor Authenticators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../passwords/" class="md-nav__link">
        Password Managers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../productivity/" class="md-nav__link">
        Productivity Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../real-time-communication/" class="md-nav__link">
        Real-Time Communication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../news-aggregators/" class="md-nav__link">
        News Aggregators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../self-contained-networks/" class="md-nav__link">
        Self-Contained Networks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../video-streaming/" class="md-nav__link">
        Video Streaming
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        Heading
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#interpreting-file-acls" class="md-nav__link">
    INTERPRETING FILE ACLS
  </a>
  
    <nav class="md-nav" aria-label="INTERPRETING FILE ACLS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#access-control-list-concepts" class="md-nav__link">
    ACCESS CONTROL LIST CONCEPTS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viewing-and-interpreting-acl-permissions" class="md-nav__link">
    VIEWING AND INTERPRETING ACL PERMISSIONS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples-of-acl-use-by-the-operating-system" class="md-nav__link">
    EXAMPLES OF ACL USE BY THE OPERATING SYSTEM
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#securing-files-with-acls" class="md-nav__link">
    SECURING FILES WITH ACLS
  </a>
  
    <nav class="md-nav" aria-label="SECURING FILES WITH ACLS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changing-acl-file-permissions" class="md-nav__link">
    CHANGING ACL FILE PERMISSIONS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controlling-default-acl-file-permissions" class="md-nav__link">
    CONTROLLING DEFAULT ACL FILE PERMISSIONS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    SUMMARY
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab" class="md-nav__link">
    LAB
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  




  <h1>Controlling Access To Files With Acls</h1>

<h3 id="interpreting-file-acls">INTERPRETING FILE ACLS<a class="headerlink" href="#interpreting-file-acls" title="Permanent link">&para;</a></h3>
<h4 id="access-control-list-concepts">ACCESS CONTROL LIST CONCEPTS<a class="headerlink" href="#access-control-list-concepts" title="Permanent link">&para;</a></h4>
<p>Standard Linux file permissions are satisfactory when files are used by only a single owner, and a
single designated group of people. However, some use cases require that files are accessed with
different file permission sets by multiple named users and groups. Access Control Lists (ACLs)
provide this function.</p>
<p>With ACLs, you can grant permissions to multiple users and groups, identified by user name,
group name, UID, or GID, using the same permission flags used with regular file permissions: read,
write, and execute. These additional users and groups, beyond the file owner and the file's group
affiliation, are called named users and named groups respectively, because they are named not in a
long listing, but rather within an ACL.</p>
<p>Users can set ACLs on files and directories that they own. Privileged users, assigned the
<strong>CAP_FOWNER</strong> Linux capability, can set ACLs on any file or directory. New files and subdirectories
automatically inherit ACL settings from the parent directory's default ACL, if they are set. Similar
to normal file access rules, the parent directory hierarchy needs at least the other search (execute)
permission set to enable named users and named groups to have access.</p>
<p><strong>File-system ACL Support</strong></p>
<p>File systems need to be mounted with ACL support enabled. XFS file systems have built-in ACL
support. Other file systems, such as ext3 or ext4 created on Red Hat Enterprise Linux 8, have the
<strong>acl</strong> option enabled by default, although on earlier versions you should confirm that ACL support
is enabled. To enable file-system ACL support, use the ACL option with the <strong>mount</strong> command or in
the file system's entry in <strong>/etc/fstab</strong> configuration file.</p>
<h4 id="viewing-and-interpreting-acl-permissions">VIEWING AND INTERPRETING ACL PERMISSIONS<a class="headerlink" href="#viewing-and-interpreting-acl-permissions" title="Permanent link">&para;</a></h4>
<p>The <strong>ls -l</strong> command only outputs minimal ACL setting details:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="o">[</span>user@host content<span class="o">]</span>$ ls -l reports.txt
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>-rwxrw----+ <span class="m">1</span> user operators <span class="m">130</span> Mar <span class="m">19</span> <span class="m">23</span>:56 reports.txt
</code></pre></div>
<p>The plus sign (+) at the end of the 10-character permission string indicates that an extended ACL
structure with entries exists on this file.</p>
<p>user:</p>
<p>Shows the user ACL settings, which are the same as the standard user file settings; rwx.</p>
<p>group:</p>
<p>Shows the current ACL mask settings, not the group owner settings; rw.</p>
<p>other:</p>
<p>Shows the other ACL settings, which are the same as the standard other file settings; no
access.</p>
<div class="admonition danger">
<p class="admonition-title">IMPORTANT</p>
<p>Changing group permissions on a file with an ACL by using chmod does not change
the group owner permissions, but does change the ACL mask. Use setfacl -m
g::perms file if the intent is to update the file's group owner permissions.</p>
</div>
<p><strong>View File ACLs</strong></p>
<p>To display ACL settings on a file, use getfacl file:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="o">[</span>user@host content<span class="o">]</span>$ getfacl reports.txt
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="c1"># file: reports.txt</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="c1"># owner: user</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1"># group: operators</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>user::rwx
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>user:consultant3:---
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>user:1005:rwx
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a> <span class="c1">#effective:rw-</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>group::rwx
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a> <span class="c1">#effective:rw-</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>group:consultant1:r--
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>group:2210:rwx
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a> <span class="c1">#effective:rw-</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>mask::rw-
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>other::---
</code></pre></div>
Review each section of the previous example:</p>
<p>Commented entries:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a># file: reports.txt
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a># owner: user
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a># group: operators
</code></pre></div>
<p>The first three lines are comments that identify the file name, owner (<strong>user</strong>), and group owner
(<strong>operators</strong>). If there are any additional file flags, such as <strong>setuid</strong> or <strong>setgid</strong>, then a fourth
comment line will appear showing which flags are set.</p>
<p>User entries:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>user::rwx
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>user:consultant3:---
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>user:1005:rwx  #effective:rw-
</code></pre></div>
<code>user::rwx</code>  File owner permissions. <strong>user</strong> has <strong>rwx</strong>.</p>
<p><code>user:consultant3:---</code>   Named user permissions. One entry for each named user associated with this file.
consultant3 has no permissions.</p>
<p><code>user:1005:rwx #effective:rw-</code>   Named user permissions. UID 1005 has rwx, but the mask limits the effective permissions to <strong>rw</strong> only.</p>
<p>Group entries:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>group::rwx   #effective:rw-
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>group:consultant1:r--
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>group:2210:rwx   #effective:rw-
</code></pre></div>
<p><code>group::rwx   #effective:rw-</code>    Group owner permissions. operators has rwx, but the mask limits the effective permissions
to rw only.</p>
<p><code>group:consultant1:r--</code>    Named group permissions. One entry for each named group associated with this file.
consultant1 has r only.</p>
<p><code>group:2210:rwx   #effective:rw-</code>    Named group permissions. GID 2210 has rwx, but the mask limits the effective permissions to rw only.</p>
<p>Mask entry:</p>
<p><code>mask::rw-</code></p>
<p>Mask settings show the maximum permissions possible for all named users, the group owner, and
named groups. UID 1005, operators, and GID 2210 cannot execute this file, even though each
entry has the execute permission set.</p>
<p>Other entry:</p>
<p><code>other::---</code></p>
<p>Other or "world" permissions. All other UIDs and GIDs have NO permissions.</p>
<p><strong>Viewing Directory ACLs</strong></p>
<p>To display ACL settings on a directory, use the <strong>getfacl directory</strong> command:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="o">[</span>user@host content<span class="o">]</span>$ getfacl .
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="c1"># file: .</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="c1"># owner: user</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1"># group: operators</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="c1"># flags: -s-</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>user::rwx
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>user:consultant3:---
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>user:1005:rwx
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>group::rwx
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>group:consultant1:r-x
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>group:2210:rwx
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>mask::rwx
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>other::---
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>default:user::rwx
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>default:user:consultant3:---
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>default:group::rwx
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>default:group:consultant1:r-x
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>default:mask::rwx
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>default:other::---
</code></pre></div>
Review each section of the previous example:</p>
<p>Opening comment entries:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a># file: .
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a># owner: user
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a># group: operators
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a># flags: -s-
</code></pre></div>
The first three lines are comments that identify the directory name, owner (user), and group
owner (operators). If there are any additional directory flags (<strong>setuid, setgid, sticky</strong>), then a
fourth comment line shows which flags are set; in this case, <strong>setgid</strong>.</p>
<p>Standard ACL entries:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>user::rwx
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>user:consultant3:---
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>user:1005:rwx
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>group::rwx
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>group:consultant1:r-x
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>group:2210:rwx
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>mask::rwx
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>other::---
</code></pre></div>
The ACL permissions on this directory are the same as the file example shown earlier, but apply to the directory. The key difference is the inclusion of the execute permission on these entries (when
appropriate) to allow directory search permission.</p>
<p>Default user entries:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>default:user::rwx
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>default:user:consultant3:---
</code></pre></div>
<p><code>default:user::rwx</code> Default file owner ACL permissions. The file owner will get rwx, read/write on new files and execute on new subdirectories.</p>
<p><code>default:user:consultant3:---</code> Default named user ACL permissions. One entry for each named user who will automatically get the default ACL applied to new files or subdirectories. consultant3 always defaults to no permissions.</p>
<p>Default group entries:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>default:group::rwx
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>default:group:consultant1:r-x
</code></pre></div>
<p><code>default:group::rwx</code> Default group owner ACL permissions. The file group owner will get <strong>rwx</strong>, read/write on new files and execute on new subdirectories.</p>
<p><code>default:group:consultant1:r-x</code> Default named group ACL permissions. One entry for each named group which will
automatically get the default ACL. consultant1 will get rx, read-only on new files, and execute on new subdirectories.</p>
<p>Default ACL mask entry:</p>
<p><code>default:mask::rwx</code></p>
<p>Default mask settings show the initial maximum permissions possible for all new files or directories
created that have named user ACLs, the group owner ACL, or named group ACLs: read and write for new files and execute permission on new subdirectories. New files never get execute permission.</p>
<p>Default other entry:</p>
<p><code>default:other::---</code></p>
<p>Default other or "world" permissions. All other UIDs and GIDs have no permissions to new files or
new subdirectories.</p>
<p>The <strong>default</strong> entries in the previous example do not include the named user (UID <strong>1005</strong>) and
named group (GID <strong>2210</strong>); consequently, they will not automatically get initial ACL entries
added for them to any new files or new subdirectories. This effectively limits them to files and
subdirectories that they already have ACLs on, or if the relevant file owner adds the ACL later
using <strong>setfacl</strong>. They can still create their own files and subdirectories.</p>
<div class="admonition info">
<p class="admonition-title">NOTE</p>
<p>The output from <strong>getfacl</strong> command can be used as input to <strong>setfacl</strong> for restoring
ACLs, or for copying ACLs from a source file or directory and save them into a
new file. For example, to restore ACLs from a backup, use <strong>getfacl -R /dir1</strong>
<strong>&gt; file1</strong> to generate a recursive ACL output dump file for the directory and its
contents. The output can then be used for recovery of the original ACLs, passing
the saved output as input to the <strong>setfacl</strong> command. For example, to perform a
bulk update of the same directory in the current path use the following command:
<strong>setfacl --set-file=file1</strong></p>
</div>
<p><strong>The ACL Mask</strong></p>
<p>The ACL mask defines the maximum permissions that you can grant to named users, the group
owner, and named groups. It does not restrict the permissions of the file owner or other users. All
files and directories that implement ACLs will have an ACL mask.</p>
<p>The mask can be viewed with <strong>getfacl</strong> and explicitly set with <strong>setfacl</strong>. It will be calculated and
added automatically if it is not explicitly set, but it could also be inherited from a parent directory
default mask setting. By default, the mask is recalculated whenever any of the affected ACLs are
added, modified, or deleted.</p>
<p><strong>ACL Permission Precedence</strong>
When determining whether a process (a running program) can access a file, file permissions and
ACLs are applied as follows:</p>
<ul>
<li>
<p>If the process is running as the user that owns the file, then the file's user ACL permissions
apply.</p>
</li>
<li>
<p>If the process is running as a user that is listed in a named user ACL entry, then the named user
ACL permissions apply (as long as it is permitted by the mask).</p>
</li>
<li>
<p>If the process is running as a group that matches the group owner of the file, or as a group with
an explicitly named group ACL entry, then the matching ACL permissions apply (as long as it is
permitted by the mask).</p>
</li>
<li>
<p>Otherwise, the file's other ACL permissions apply.</p>
</li>
</ul>
<h3 id="examples-of-acl-use-by-the-operating-system">EXAMPLES OF ACL USE BY THE OPERATING SYSTEM<a class="headerlink" href="#examples-of-acl-use-by-the-operating-system" title="Permanent link">&para;</a></h3>
<p>Red Hat Enterprise Linux has examples that demonstrate typical ACL use for extended permission
requirements.</p>
<p><strong>ACLs on Systemd Journal Files</strong></p>
<p>systemd-journald uses ACL entries to allow read access to the <strong>/run/log/journal/cb44...8ae2/system.journal</strong> file to the adm and wheel groups. This ACL allows the members of the adm and wheel groups to have read access to the logs managed by <strong>journalctl</strong> without having the need to give special permissions to the privileged content inside <strong>/var/log/</strong>, like <strong>messages, secure</strong> or <strong>audit</strong>.</p>
<p>Due to the systemd-journald configuration, the parent folder of the <strong>system.journal</strong> file
can change, but the systemd-journald applies ACLs to the new folder and file automatically.</p>
<div class="admonition info">
<p class="admonition-title">NOTE</p>
<p>System administrators should set an ACL on the <strong>/var/log/journal/</strong> folder when
systemd-journald is configured to use persistent storage.</p>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="o">[</span>user@host <span class="o">]</span>$ getfacl /run/log/journal/cb44...8ae2/system.journal
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>getfacl: Removing leading <span class="s1">&#39;/&#39;</span> from absolute path names
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="c1"># file: run/log/journal/cb44...8ae2/system.journal</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="c1"># owner: root</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="c1"># group: systemd-journal</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>user::rw-
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>group::r--
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>group:adm:r--
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>group:wheel:r--
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>mask::r--
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>other::---
</code></pre></div>
<p><strong>ACL on Systemd Managed Devices</strong></p>
<p>systemd-udev uses a set of udev rules that enable the uaccess tag to some devices, such as
CD/DVD players or writers, USB storage devices, sound cards, and many others. The previous
mentioned udev rules sets ACLs on those devices to allow users logged in to a graphical user
interface (for example gdm) to have full control of those devices.</p>
<p>The ACLs will remain active until the user logs out of the GUI. The next user who logs in to the GUI
will have a new ACL applied for the required devices.</p>
<p>In the following example, you can see the user has an ACL entry with <strong>rw</strong> permissions applied to
the <strong>/dev/sr0</strong> device that is a CD/DVD drive.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="o">[</span>user@host <span class="o">]</span>$ getfacl /dev/sr0
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>getfacl: Removing leading <span class="s1">&#39;/&#39;</span> from absolute path names
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="c1"># file: dev/sr0</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="c1"># owner: root</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="c1"># group: cdrom</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>user::rw-
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>user:group:rw-
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>group::rw-
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>mask::rw-
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>other::---
</code></pre></div>
<h3 id="securing-files-with-acls">SECURING FILES WITH ACLS<a class="headerlink" href="#securing-files-with-acls" title="Permanent link">&para;</a></h3>
<h4 id="changing-acl-file-permissions">CHANGING ACL FILE PERMISSIONS<a class="headerlink" href="#changing-acl-file-permissions" title="Permanent link">&para;</a></h4>
<p>Use setfacl to add, modify, or remove standard ACLs on files and directories.</p>
<p>ACLs use the normal file system representation of permissions, "<strong>r</strong>" for read permission, "<strong>w</strong>"
for write permission, and "<strong>x</strong>" for execute permission. A "-" (dash) indicates that the relevant
permission is absent. When (recursively) setting ACLs, an uppercase "<strong>X</strong>" can be used to indicate
that execute permission should only be set on directories and not regular files, unless the file
already has the relevant execute permission. This is the same behavior as <strong>chmod</strong>.</p>
<p><strong>Adding or Modifying ACLs</strong></p>
<p>ACLs can be set via the command-line using the <strong>-m</strong> option, or passed in via a file using the -
<strong>M</strong> option (use "-" (dash) instead of a file name for <strong>stdin</strong>). These two options are the "modify"
options; they add new ACL entries or replace specific existing ACL entries on a file or directory.
Any other existing ACL entries on the file or directory remain untouched.</p>
<div class="admonition info">
<p class="admonition-title">NOTE</p>
<p>Use the <strong>--set</strong> or <strong>--set-file</strong> options to completely replace the ACL settings on a file.</p>
</div>
<p>When first defining an ACL on a file, if the add operation does not include settings for the file
owner, group owner, or other permissions, then these will be set based on the current standard
file permissions (these are also known as the base ACL entries and cannot be deleted), and a new
mask value will be calculated and added as well.</p>
<p>To add or modify a user or named user ACL:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ setfacl -m u:name:rX file
</code></pre></div>
If name is left blank, then it applies to the file owner, otherwise name can be a username or UID
value. In this example, the permissions granted would be read-only, and if already set, execute
(unless file was a directory, in which case the directory would get the execute permission set to
allow directory search).</p>
<p>ACL file owner and standard file owner permissions are equivalent; consequently, using <strong>chmod</strong> on
the file owner permissions is equivalent to using <strong>setfacl</strong> on the file owner permissions. <strong>chmod</strong>
has no effect on named users.</p>
<p>To add or modify a group or named group ACL:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ setfacl -m g:name:rw file
</code></pre></div>
<p>This follows the same pattern for adding or modifying a user ACL entry. If name is left blank, then
it applies to the group owner. Otherwise, specify a group name or GID value for a named group.
The permissions would be read and write in this example.</p>
<p><strong>chmod</strong> has no effect on any group permissions for files with ACL settings, but it updates the ACL
mask.</p>
<p>To add or modify the other ACL:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ setfacl -m o::- file
</code></pre></div>
<p>other only accepts permission settings. Typical permission settings for others are: no permissions
at all, set with a dash (-); and read-only permissions set as usual with <strong>r</strong>. Of course, you can set any
of the standard permissions.</p>
<p>ACL other and standard other permissions are equivalent, so using <strong>chmod</strong> on the other
permissions is equivalent to using <strong>setfacl</strong> on the other permissions.</p>
<p>You can add multiple entries with the same command; use a comma-separated list of entries:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ setfacl -m u::rwx,g:consultants:rX,o::- file
</code></pre></div>
This sets the file owner to read, write, and execute, sets the named group <strong>consultants</strong> to read-
only and conditional execute, and restricts all other users to no permissions. The group owner
maintains existing file or ACL permissions and other "named" entries remain unchanged.</p>
<p><strong>Using getfacl as Input</strong></p>
<p>You can use the output from <strong>getfacl</strong> as input to <strong>setfacl</strong>:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ getfacl file-A <span class="p">|</span> setfacl --set-file<span class="o">=</span>- file-B
</code></pre></div>
The <strong>--set-file</strong> option accepts input from a file or from stdin. The dash character (-) specifies
the use of stdin. In this case, file-B will have the same ACL settings as file-A.</p>
<p><strong>Setting an Explicit ACL Mask</strong></p>
<p>You can set an ACL mask explicitly on a file or directory to limit the maximum effective
permissions for named users, the group owner, and named groups. This restricts any existing
permissions that exceed the mask, but does not affect permissions that are less permissive than
the mask.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ setfacl -m m::r file
</code></pre></div>
<p>This adds a mask value that restricts any named users, the group owner, and any named groups to
read-only permission, regardless of their existing settings. The file owner and other users are not
impacted by the mask setting.</p>
<p><strong>getfacl</strong> shows an <strong>effective</strong> comment beside entries that are restricted by a mask setting.</p>
<div class="admonition danger">
<p class="admonition-title">IMPORTANT</p>
<p>By default, each time one of the impacted ACL settings (named users, group owner,
or named groups) is modified or deleted, the ACL mask is recalculated, potentially
resetting a previous explicit mask setting.</p>
<p>To avoid the mask recalculation, use the <strong>-n</strong> option or include a mask setting (<strong>-m
m::perms</strong>) with any <strong>setfacl</strong> operation that modifies mask-affected ACL settings.</p>
</div>
<p><strong>Recursive ACL Modifications</strong></p>
<p>When setting an ACL on a directory, use the <strong>-R</strong> option to apply the ACL recursively. Remember
that you are likely to want to use the "<strong>X</strong>" (capital X) permission with recursion so that files with the
execute permission set retain the setting and directories get the execute permission set to allow
directory search. It is considered good practice to also use the uppercase "<strong>X</strong>" when non-recursively
setting ACLs because it prevents administrators from accidentally adding execute permissions to
a regular file.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ setfacl -R -m u:name:rX directory
</code></pre></div>
This adds the user name to the directory directory and all existing files and subdirectories, setting
read-only and conditional execute permissions.</p>
<p><strong>Deleting ACLs</strong></p>
<p>Deleting specific ACL entries follows the same basic format as the modify operation, except that
":perms" is not specified.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ setfacl -x u:name,g:name file
</code></pre></div>
<p>This removes only the named user and the named group from the file or directory ACL. Any other
existing ACL entries remain active.</p>
<p>You can include both the delete (<strong>-x</strong>) and modify (<strong>-m</strong>) operations in the same <strong>setfacl</strong> operation.</p>
<p>The mask can only be deleted if there are no other ACLs set (excluding the base ACL which
cannot be deleted), so it must be deleted last. The file will no longer have any ACLs and <strong>ls -l</strong> will
not show the plus sign (+) next to the permissions string. Alternatively, to delete all ACL entries on
a file or directory (including default ACL on directories), use the following command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ setfacl -b file
</code></pre></div>
<h4 id="controlling-default-acl-file-permissions">CONTROLLING DEFAULT ACL FILE PERMISSIONS<a class="headerlink" href="#controlling-default-acl-file-permissions" title="Permanent link">&para;</a></h4>
<p>To ensure that files and directories created within a directory inherit certain ACLs, use the default
ACL on a directory. You can set a default ACL and any of the standard ACL settings, including a
default mask.</p>
<p>The directory itself still requires standard ACLs for access control because the default ACLs do
not implement access control for the directory; they only provide ACL permission inheritance
support. For example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ setfacl -m d:u:name:rx directory
</code></pre></div>
<p>This adds a default named user (<strong>d:u:name</strong>) with read-only permission and execute permission on
subdirectories.</p>
<p>The <strong>setfacl</strong> command for adding a default ACL for each of the ACL types is exactly the same as
for standard ACLs, but prefaced with <strong>d:</strong>. Alternatively, use the <strong>-d</strong> option on the command line.</p>
<div class="admonition danger">
<p class="admonition-title">IMPORTANT</p>
<p>When setting default ACLs on a directory, ensure that users will be able to access
the contents of new subdirectories created in it by including the execute permission
on the default ACL.</p>
<p>Users will not automatically get the execute permission set on newly created regular
files because unlike new directories, the ACL mask of a new regular file is <strong>rw-</strong>.</p>
</div>
<div class="admonition info">
<p class="admonition-title">NOTE</p>
<p>New files and new subdirectories continue to get their owner UID and primary group
GID values set from the creating user, except when the parent directory <strong>setgid</strong>
flag is enabled, in which case the primary group GID is the same as the parent
directory GID.</p>
</div>
<p><strong>Deleting Default ACL Entries</strong></p>
<p>Delete a default ACL the same way that you delete a standard ACL, prefacing with <strong>d:</strong>, or use the <strong>-
d</strong> option.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ setfacl -x d:u:name directory
</code></pre></div>
This removes the default ACL entry that was added in the previous example.</p>
<p>To delete all default ACL entries on a directory, use <strong>setfacl -k directory</strong>.</p>
<h3 id="summary">SUMMARY<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h3>
<p>In this chapter, you learned:</p>
<ul>
<li>
<p>ACLs provide fine-grained access control to files and directories.</p>
</li>
<li>
<p>The <strong>getfacl</strong> command displays the ACLs on a file or directory.</p>
</li>
<li>
<p>The <strong>setfacl</strong> command sets, modifies, and removes default and standard ACLs on files and
directories.</p>
</li>
<li>
<p>Use default ACLs for controlling new files and directories permissions.</p>
</li>
<li>
<p>Red Hat Enterprise Linux uses systemd and udev to apply predefined ACLs on devices, folders,
and files.</p>
</li>
</ul>
<h3 id="lab">LAB<a class="headerlink" href="#lab" title="Permanent link">&para;</a></h3>
<p>pdf - 114</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">December 5, 2022</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../tuning/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Tuning System Performance" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Tuning System Performance
            </div>
          </div>
        </a>
      
      
        
        <a href="../selinux/" class="md-footer__link md-footer__link--next" aria-label="Next: Managing Selinux Security" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Managing Selinux Security
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 Divijesh Varma. All rights reserved.
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "navigation.top", "navigation.sections", "content.tooltips", "header.autohide"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="../../javascripts/feedback.js"></script>
      
    
    
  </body>
</html>