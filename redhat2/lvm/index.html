
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://divijesh.tech/redhat2/lvm/">
      
      <link rel="icon" href="../../assets/img/layout/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Managing Logical Volumes - Divijesh Varma</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="teal">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#creating-logical-volumes" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Divijesh Varma" class="md-header__button md-logo" aria-label="Divijesh Varma" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Divijesh Varma
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Managing Logical Volumes
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../linux/vi/" class="md-tabs__link">
        Linux
      </a>
    </li>
  

  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../redhat/intro/" class="md-tabs__link md-tabs__link--active">
        RedHat
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../english/vol1/" class="md-tabs__link">
        English
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../basics/threat-modeling/" class="md-tabs__link">
        Knowledge Base
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../tools/" class="md-tabs__link">
        Recommendations
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../about/" class="md-tabs__link">
        About
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Divijesh Varma" class="md-nav__button md-logo" aria-label="Divijesh Varma" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Divijesh Varma
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Linux" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_1">
          Editors
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Editors" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Editors
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/vi/" class="md-nav__link">
        Vim
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/nano/" class="md-nav__link">
        Nano
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2">
          Notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Notes" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/rhcsa/" class="md-nav__link">
        Tritree
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/user/" class="md-nav__link">
        User Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/acl/" class="md-nav__link">
        Access control lists (ACLs)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/network/" class="md-nav__link">
        Networking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/ssh/" class="md-nav__link">
        OpenSSH
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/process/" class="md-nav__link">
        Process Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/software/" class="md-nav__link">
        Software Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/systemd/" class="md-nav__link">
        Systemd Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/cron/" class="md-nav__link">
        Cron Jobs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/logs/" class="md-nav__link">
        Logs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/disk/" class="md-nav__link">
        Disk Management
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          RedHat
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="RedHat" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          RedHat
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          RHSA I (RH124)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="RHSA I (RH124)" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          RHSA I (RH124)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/intro/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/access/" class="md-nav__link">
        Accessing The Command Line
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/manage/" class="md-nav__link">
        Managing Files From The Command Line
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/help/" class="md-nav__link">
        Getting Help In Red Hat Enterprise Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/edit/" class="md-nav__link">
        Creating, Viewing, And Editing Text Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/users/" class="md-nav__link">
        Managing Local Users And Groups
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/control/" class="md-nav__link">
        Controlling Access To Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/monitor/" class="md-nav__link">
        Monitoring And Managing Linux Processes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/service/" class="md-nav__link">
        Controlling Services And Daemons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/secssh/" class="md-nav__link">
        Configuring And Securing Ssh
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/store/" class="md-nav__link">
        Analyzing And Storing Logs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/mannet/" class="md-nav__link">
        Managing Networking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/archiv/" class="md-nav__link">
        Archiving And Transferring Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/pack/" class="md-nav__link">
        Installing And Updating Software Packages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/filsys/" class="md-nav__link">
        Accessing Linux File Systems
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/support/" class="md-nav__link">
        Analyzing Servers And Getting Support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/review/" class="md-nav__link">
        Comprehensive Review
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          RHSA II (RH134)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="RHSA II (RH134)" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          RHSA II (RH134)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cmd/" class="md-nav__link">
        Improving Command-Line Productivity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/" class="md-nav__link">
        Scheduling Future Tasks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tuning/" class="md-nav__link">
        Tuning System Performance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../acls/" class="md-nav__link">
        Controlling Access To Files With Acls
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../selinux/" class="md-nav__link">
        Managing Selinux Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../storage/" class="md-nav__link">
        Managing Basic Storage
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Managing Logical Volumes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Managing Logical Volumes
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-logical-volumes" class="md-nav__link">
    CREATING LOGICAL VOLUMES
  </a>
  
    <nav class="md-nav" aria-label="CREATING LOGICAL VOLUMES">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logical-volume-management-lvm-concepts" class="md-nav__link">
    LOGICAL VOLUME MANAGEMENT (LVM) CONCEPTS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementing-lvm-storage" class="md-nav__link">
    IMPLEMENTING LVM STORAGE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reviewing-lvm-status-information" class="md-nav__link">
    REVIEWING LVM STATUS INFORMATION
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extending-logical-volumes" class="md-nav__link">
    EXTENDING LOGICAL VOLUMES
  </a>
  
    <nav class="md-nav" aria-label="EXTENDING LOGICAL VOLUMES">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extending-and-reducing-a-volume-group" class="md-nav__link">
    EXTENDING AND REDUCING A VOLUME GROUP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extending-a-logical-volume-and-xfs-file-system" class="md-nav__link">
    EXTENDING A LOGICAL VOLUME AND XFS FILE SYSTEM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extending-a-logical-volume-and-ext4-file-system" class="md-nav__link">
    EXTENDING A LOGICAL VOLUME AND EXT4 FILE SYSTEM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extend-a-logical-volume-and-swap-space" class="md-nav__link">
    EXTEND A LOGICAL VOLUME AND SWAP SPACE
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    SUMMARY
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab" class="md-nav__link">
    LAB
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vdo/" class="md-nav__link">
        Implementing Advanced Storage Features
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nas/" class="md-nav__link">
        Accessing Network-Attached Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../boot/" class="md-nav__link">
        Controlling The Boot Process
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          English
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="English" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          English
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4_1" type="checkbox" id="__nav_4_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4_1">
          Tutorial
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorial" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Tutorial
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../english/vol1/" class="md-nav__link">
        Vol-1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../english/vol2/" class="md-nav__link">
        Vol-2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../english/vol3/" class="md-nav__link">
        Vol-3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../english/vol4/" class="md-nav__link">
        Vol-4
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Knowledge Base
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Knowledge Base" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Knowledge Base
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_1" type="checkbox" id="__nav_5_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_1">
          The Basics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="The Basics" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          The Basics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/threat-modeling/" class="md-nav__link">
        Threat Modeling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/dns/" class="md-nav__link">
        Introduction to DNS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/multi-factor-authentication/" class="md-nav__link">
        Multi-factor Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/account-deletion/" class="md-nav__link">
        Account Deletion
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_2">
          Android
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Android" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Android
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../android/overview/" class="md-nav__link">
        Android Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../android/grapheneos-vs-calyxos/" class="md-nav__link">
        GrapheneOS vs CalyxOS
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_3">
          Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Linux" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux-desktop/overview/" class="md-nav__link">
        Linux Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux-desktop/hardening/" class="md-nav__link">
        System Hardening
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux-desktop/sandboxing/" class="md-nav__link">
        Application Sandboxing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_4">
          Advanced
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Advanced" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Advanced
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/integrating-metadata-removal/" class="md-nav__link">
        Integrating Metadata Removal
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Recommendations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Recommendations" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Recommendations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/" class="md-nav__link">
        Privacy Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_2" type="checkbox" id="__nav_6_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_2">
          Browsers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Browsers" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Browsers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../browsers/" class="md-nav__link">
        Web Browsers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_3" type="checkbox" id="__nav_6_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_3">
          Operating Systems
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Operating Systems" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          Operating Systems
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../android/" class="md-nav__link">
        Android
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux-desktop/" class="md-nav__link">
        Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../qubes/" class="md-nav__link">
        Qubes OS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../router/" class="md-nav__link">
        Router Firmware
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_4" type="checkbox" id="__nav_6_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_4">
          Providers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Providers" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_4">
          <span class="md-nav__icon md-icon"></span>
          Providers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/" class="md-nav__link">
        Cloud Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dns/" class="md-nav__link">
        DNS Resolvers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../email/" class="md-nav__link">
        Email Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../search-engines/" class="md-nav__link">
        Search Engines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../vpn/" class="md-nav__link">
        VPN Services
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_5" type="checkbox" id="__nav_6_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_5">
          Software
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Software" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_5">
          <span class="md-nav__icon md-icon"></span>
          Software
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../calendar-contacts/" class="md-nav__link">
        Calendar and Contact Sync
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/" class="md-nav__link">
        Notebooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../email-clients/" class="md-nav__link">
        Email Clients
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../encryption/" class="md-nav__link">
        Encryption Software
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../file-sharing/" class="md-nav__link">
        File Sharing and Sync
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../metadata-removal-tools/" class="md-nav__link">
        Metadata Removal Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../multi-factor-authentication/" class="md-nav__link">
        Multi-Factor Authenticators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../passwords/" class="md-nav__link">
        Password Managers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../productivity/" class="md-nav__link">
        Productivity Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../real-time-communication/" class="md-nav__link">
        Real-Time Communication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../news-aggregators/" class="md-nav__link">
        News Aggregators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../self-contained-networks/" class="md-nav__link">
        Self-Contained Networks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../video-streaming/" class="md-nav__link">
        Video Streaming
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        Heading
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-logical-volumes" class="md-nav__link">
    CREATING LOGICAL VOLUMES
  </a>
  
    <nav class="md-nav" aria-label="CREATING LOGICAL VOLUMES">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logical-volume-management-lvm-concepts" class="md-nav__link">
    LOGICAL VOLUME MANAGEMENT (LVM) CONCEPTS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementing-lvm-storage" class="md-nav__link">
    IMPLEMENTING LVM STORAGE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reviewing-lvm-status-information" class="md-nav__link">
    REVIEWING LVM STATUS INFORMATION
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extending-logical-volumes" class="md-nav__link">
    EXTENDING LOGICAL VOLUMES
  </a>
  
    <nav class="md-nav" aria-label="EXTENDING LOGICAL VOLUMES">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extending-and-reducing-a-volume-group" class="md-nav__link">
    EXTENDING AND REDUCING A VOLUME GROUP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extending-a-logical-volume-and-xfs-file-system" class="md-nav__link">
    EXTENDING A LOGICAL VOLUME AND XFS FILE SYSTEM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extending-a-logical-volume-and-ext4-file-system" class="md-nav__link">
    EXTENDING A LOGICAL VOLUME AND EXT4 FILE SYSTEM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extend-a-logical-volume-and-swap-space" class="md-nav__link">
    EXTEND A LOGICAL VOLUME AND SWAP SPACE
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    SUMMARY
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab" class="md-nav__link">
    LAB
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  




  <h1>Managing Logical Volumes</h1>

<h3 id="creating-logical-volumes">CREATING LOGICAL VOLUMES<a class="headerlink" href="#creating-logical-volumes" title="Permanent link">&para;</a></h3>
<h4 id="logical-volume-management-lvm-concepts">LOGICAL VOLUME MANAGEMENT (LVM) CONCEPTS<a class="headerlink" href="#logical-volume-management-lvm-concepts" title="Permanent link">&para;</a></h4>
<p>Logical volumes and logical volume management make it easier to manage disk space. If a file
system that hosts a logical volume needs more space, it can be allocated to its logical volume
from the free space in its volume group and the file system can be resized. If a disk starts to fail,
a replacement disk can be registered as a physical volume with the volume group and the logical
volume's extents can be migrated to the new disk.</p>
<p><strong>LVM Definitions</strong></p>
<p><em>Physical devices</em></p>
<p>Physical devices are the storage devices used to save data stored in a logical volume. These
are block devices and could be disk partitions, whole disks, RAID arrays, or SAN disks. A device
must be initialized as an LVM physical volume in order to be used with LVM. The entire device
will be used as a physical volume.</p>
<p><em>Physical volumes (PVs)</em></p>
<p>You must initialize a device as a physical volume before using it in an LVM system. LVM tools
segment physical volumes into physical extents (PEs), which are small chunks of data that act
as the smallest storage block on a physical volume.</p>
<p><em>Volume groups (VGs)</em></p>
<p>Volume groups are storage pools made up of one or more physical volumes. This is the
functional equivalent of a whole disk in basic storage. A PV can only be allocated to a single
VG. A VG can consist of unused space and any number of logical volumes.</p>
<p><em>Logical volumes (LVs)</em></p>
<p>Logical volumes are created from free physical extents in a volume group and provide the
"storage" device used by applications, users, and the operating system. LVs are a collection
of logical extents (LEs), which map to physical extents, the smallest storage chunk of a PV.
By default, each LE maps to one PE. Setting specific LV options changes this mapping; for
example, mirroring causes each LE to map to two PEs.</p>
<h4 id="implementing-lvm-storage">IMPLEMENTING LVM STORAGE<a class="headerlink" href="#implementing-lvm-storage" title="Permanent link">&para;</a></h4>
<p>Creating LVM storage requires several steps. The first step is to determine which physical devices
to use. After a set of suitable devices have been assembled, they are initialized as physical volumes
so that they are recognized as belonging to LVM. The physical volumes are then combined into
a volume group. This creates a pool of disk space out of which logical volumes can be allocated.</p>
<p>Logical volumes created from the available space in a volume group can be formatted with a file
system, activated as swap space, and mounted or activated persistently.</p>
<p><img alt="Logical volume management components" src="https://www.linuxprobe.com/links/RH134/images/lvm/lvm-build.svg" /></p>
<p>LVM provides a comprehensive set of command-line tools for implementing and managing LVM
storage. These command-line tools can be used in scripts, making them suitable for automation.</p>
<div class="admonition danger">
<p class="admonition-title">IMPORTANT</p>
<p>The following examples use device <strong>vdb</strong> and its partitions to illustrate LVM
commands. In practice, these examples would need to use the correct devices for
the disk and disk partitions that are being used by the system. Use the <strong>lsblk</strong>,
<strong>blkid</strong>, or <strong>cat /proc/partitions</strong> commands to identify the devices on your system.</p>
</div>
<p><strong>Creating a Logical Volume</strong></p>
<p>To create a logical volume, perform the following steps:</p>
<p><strong>Prepare the physical device.</strong></p>
<p>Use <strong>parted, gdisk</strong>, or <strong>fdisk</strong> to create a new partition for use with LVM. Always set the partition
type to <strong>Linux LVM</strong> on LVM partitions; use <strong>0x8e</strong> for MBR partitions. If necessary, use <strong>partprobe</strong>
to register the new partition with the kernel.</p>
<p>Alternatively, use a whole disk, a RAID array, or a SAN disk.</p>
<p>A physical device only needs to be prepared if there are none prepared already and a new physical
volume is required to create or extend a volume group.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># parted -s /dev/vdb mkpart primary 1MiB 769MiB</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># parted -s /dev/vdb mkpart primary 770MiB 1026MiB</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># parted -s /dev/vdb set 1 lvm on</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># parted -s /dev/vdb set 2 lvm on</span>
</code></pre></div>
<strong>Create a physical volume.</strong></p>
<p>Use <strong>pvcreate</strong> to label the partition (or other physical device) as a physical volume. The
<strong>pvcreate</strong> command divides the physical volume into physical extents (PEs) of a fixed size, for
example, 4 MiB blocks. You can label multiple devices at the same time by using space-delimited
device names as arguments to <strong>pvcreate</strong>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># pvcreate /dev/vdb2 /dev/vdb1</span>
</code></pre></div>
<p>This labels the devices <strong>/dev/vdb2</strong> and <strong>/dev/vdb1</strong> as PVs, ready for allocation into a volume
group.</p>
<p>A PV only needs to be created if there are no PVs free to create or extend a VG.</p>
<p><strong>Create a volume group.</strong></p>
<p>Use <strong>vgcreate</strong> to collect one or more physical volumes into a volume group. A volume group is the
functional equivalent of a hard disk; you will create logical volumes from the pool of free physical
extents in the volume group.</p>
<p>The <strong>vgcreate</strong> command-line consists of a volume group name followed by one or more physical
volumes to allocate to this volume group.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># vgcreate vg01 /dev/vdb2 /dev/vdb1</span>
</code></pre></div>
This creates a VG called vg01 that is the combined size, in PE units, of the two PVs <strong>/dev/vdb2</strong>
and <strong>/dev/vdb1</strong>.</p>
<p>A VG only needs to be created if none already exist. Additional VGs may be created for
administrative reasons to manage the use of PVs and LVs. Otherwise, existing VGs can be
extended to accommodate new LVs when needed.</p>
<p><strong>Create a logical volume.</strong></p>
<p>Use <strong>lvcreate</strong> to create a new logical volume from the available physical extents in a volume
group. At a minimum, the <strong>lvcreate</strong> command includes the <strong>-n</strong> option to set the LV name, either
the <strong>-L</strong> option to set the LV size in bytes or the <strong>-l</strong> option to set the LV size in extents, and the
name of the volume group hosting this logical volume.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># lvcreate -n lv01 -L 700M vg01</span>
</code></pre></div>
This creates an LV called lv01, 700 MiB in size, in the VG vg01. This command will fail if the
volume group does not have a sufficient number of free physical extents for the requested size.</p>
<p>Note also that the size will be rounded to a factor of the physical extent size if the size cannot
match exactly.</p>
<p>You can specify the size using the <strong>-L</strong> option, which expects sizes in bytes, mebibytes (binary
megabytes, 1048576 bytes), gibibytes (binary gigabytes), or similar. Alternatively, you can use the
<strong>-l</strong> option, which expects sizes specified as a number of physical extents.</p>
<p>The following list provides some examples of creating LVs:</p>
<ul>
<li>
<p><strong>lvcreate -L 128M</strong>: Size the logical volume to exactly 128 MiB.</p>
</li>
<li>
<p><strong>lvcreate -l 128</strong> : Size the logical volume to exactly 128 extents. The total number of bytes
depends on the size of the physical extent block on the underlying physical volume.</p>
</li>
</ul>
<div class="admonition danger">
<p class="admonition-title">IMPORTANT</p>
<p>Different tools display the logical volume name using either the traditional
name, /dev/vgname/lvname, or the kernel device mapper name, /dev/
mapper/vgname-lvname.</p>
</div>
<p><strong>Add the file system.</strong></p>
<p>Use <strong>mkfs</strong> to create an <strong>XFS</strong> file system on the new logical volume. Alternatively, create a file
system based on your preferred file system, for example, <strong>ext4</strong>.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># mkfs -t xfs /dev/vg01/lv01</span>
</code></pre></div>
To make the file system available across reboots, perform the following steps:</p>
<ul>
<li>Use <strong>mkdir</strong> to create a mount point.</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># mkdir /mnt/data</span>
</code></pre></div>
- Add an entry to the <strong>/etc/fstab</strong> file:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>/dev/vg01/lv01   /mnt/data xfs   defaults 1 2
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">NOTE</p>
<p>Mounting a logical volume by name is equivalent to mounting by UUID because
LVM finds its physical volumes based on a UUID even if you initially add them to the
volume group by name.</p>
</div>
<ul>
<li>Run <strong>mount /mnt/data</strong> to mount the file system that you just added in <strong>/etc/fstab</strong>.</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># mount /mnt/data</span>
</code></pre></div>
<strong>Removing a Logical Volume</strong></p>
<p>To remove all logical volume components, perform the following steps:</p>
<p><strong>Prepare the file system.</strong></p>
<p>Move all data that must be kept to another file system. Use the <strong>umount</strong> command to unmount the
file system and then remove any <strong>/etc/fstab</strong> entries associated with this file system.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>[root@host ~]# umount /mnt/data
</code></pre></div>
<div class="admonition danger">
<p class="admonition-title">WARNING</p>
<p>Removing a logical volume destroys any data stored on the logical volume. Back up
or move your data before you remove the logical volume.</p>
</div>
<p><strong>Remove the logical volume.</strong></p>
<p>Use <strong>lvremove DEVICE_NAME</strong> to remove a logical volume that is no longer needed.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>[root@host ~]# lvremove /dev/vg01/lv01
</code></pre></div>
Unmount the LV file system before running this command. The command prompts for
confirmation before removing the LV.</p>
<p>The LV's physical extents are freed and made available for assignment to existing or new LVs in the
volume group.</p>
<p><strong>Remove the volume group.</strong></p>
<p>Use <strong>vgremove VG_NAME</strong> to remove a volume group that is no longer needed.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>[root@host ~]# vgremove vg01
</code></pre></div>
The VG's physical volumes are freed and made available for assignment to existing or new VGs on
the system.</p>
<p><strong>Remove the physical volumes.</strong></p>
<p>Use <strong>pvremove</strong> to remove physical volumes that are no longer needed. Use a space-delimited list
of PV devices to remove more than one at a time. This command deletes the PV metadata from
the partition (or disk). The partition is now free for reallocation or reformatting.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>[root@host ~]# pvremove /dev/vdb2 /dev/vdb1
</code></pre></div>
<h4 id="reviewing-lvm-status-information">REVIEWING LVM STATUS INFORMATION<a class="headerlink" href="#reviewing-lvm-status-information" title="Permanent link">&para;</a></h4>
<p><strong>Physical Volumes</strong></p>
<p>Use <strong>pvdisplay</strong> to display information about physical volumes. To list information about all
physical volumes, use the command without arguments. To list information about a specific
physical volume, pass that device name to the command.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>[root@host ~]# pvdisplay /dev/vdb1
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>--- Physical volume ---
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>PV Name             /dev/vdb1
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>VG Name             vg01
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>PV Size             768.00 MiB / not usable 4.00 MiB
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>Allocatable         yes
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>PE Size             4.00 MiB
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>Total PE            191
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a>Free PE             16
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>Allocated PE        175
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a>PV UUID             JWzDpn-LG3e-n2oi-9Etd-VT2H-PMem-1ZXwP1
</code></pre></div>
<p><strong>PV Name</strong> maps to the device name.</p>
<p><strong>VG Name</strong> shows the volume group where the PV is allocated.</p>
<p><strong>PV Size</strong> shows the physical size of the PV, including any unusable space.</p>
<p><strong>PE Size</strong> is the physical extent size, which is the smallest size a logical volume can be allocated.</p>
<p>It is also the multiplying factor when calculating the size of any value reported in PE units,
such as Free PE; for example: 26 PEs x 4 MiB (the PE Size) equals 104 MiB of free space. A
logical volume size is rounded to a factor of PE units.</p>
<p>LVM sets the PE size automatically, although it is possible to specify it.</p>
<p><strong>Free PE</strong> shows how many PE units are available for allocation to new logical volumes.</p>
<p><strong>Volume Groups</strong></p>
<p>Use <strong>vgdisplay</strong> to display information about volume groups. To list information about all volume
groups, use the command without arguments. To list information about a specific volume group,
pass that VG name to the command.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>[root@host ~]# vgdisplay vg01
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>--- Volume group ---
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>VG Name                vg01
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>System ID
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>Format                 lvm2
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>Metadata Areas           2
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>Metadata Sequence No     2
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>VG Access              read/write
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>VG Status              resizable
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>MAX LV                 0
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>Cur LV                 1
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>Open LV                1
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a>Max PV                 0
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>Cur PV                 2
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a>Act PV                 2
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a>
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a>VG Size                1016.00 MiB
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a>PE Size                4.00 MiB
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a>
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a>Total PE               254 
<a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a>Alloc PE / Size        175 / 700.00 MiB 
<a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a>
<a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a>Free PE / Size         79 / 316.00 MiB
<a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a>VG UUID                3snNw3-CF71-CcYG-Llk1-p6EY-rHEv-xfUSez
</code></pre></div>
<strong>VGVGName</strong> is the name of the volume group.
<strong>Size</strong> is the total size of the storage pool available for logical volume allocation.</p>
<p><strong>Total PE</strong> is the total size expressed in PE units.
<strong>Free PE / Size</strong> shows how much space is free in the VG for allocating to new LVs or to
extend existing LVs.</p>
<p><strong>Logical Volumes</strong></p>
<p>Use lvdisplay to display information about logical volumes. If you provide no argument to the
command, it displays information about all LVs; if you provide an LV device name as an argument,
the command displays information about that specific device.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>[root@host ~]# lvdisplay /dev/vg01/lv01
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>--- Logical volume ---
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>LV Path               /dev/vg01/lv01
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>LV Name               lv01
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>VG Name               vg01
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>LV UUID               5IyRea-W8Zw-xLHk-3h2a-IuVN-YaeZ-i3IRrN
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>LV Write Access       read/write
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>LV Creation host, time host.lab.example.com, 2019-03-28 17:17:47 -0400
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>LV Status             available
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a># open                 1
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a>LV Size               700 MiB
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a>Current LE            175
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a>Segments              1
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>Allocation            inherit
<a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a>Read ahead sectors     auto 
<a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a>- current set to        256
<a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a>Block device            252:0
</code></pre></div>
<p><strong>LV Path</strong> shows the device name of the logical volume.</p>
<p>Some tools may report the device name as <strong>/dev/mapper/vgname-lvname</strong>; both represent
the same LV.</p>
<p><strong>VG Name</strong> shows the volume group that the LV is allocated from.
<strong>LV Size</strong> shows the total size of the LV. Use file-system tools to determine the free space
and used space for storage of data.</p>
<p><strong>Current LE</strong> shows the number of logical extents used by this LV. An LE usually maps to a
physical extent in the VG, and therefore the physical volume.</p>
<h3 id="extending-logical-volumes">EXTENDING LOGICAL VOLUMES<a class="headerlink" href="#extending-logical-volumes" title="Permanent link">&para;</a></h3>
<h4 id="extending-and-reducing-a-volume-group">EXTENDING AND REDUCING A VOLUME GROUP<a class="headerlink" href="#extending-and-reducing-a-volume-group" title="Permanent link">&para;</a></h4>
<p>You can add more disk space to a volume group by adding additional physical volumes. This
is called extending the volume group. Then, you can assign the new physical extents from the
additional physical volumes to logical volumes.</p>
<p>You can remove unused physical volumes from a volume group. This is called reducing the volume
group. First, use the <strong>pvmove</strong> command to move data from extents on one physical volume to
extents on other physical volumes in the volume group. In this way, a new disk can be added to an
existing volume group, data can be moved from an older or slower disk to a new disk, and the old
disk removed from the volume group. You can perform these actions while the logical volumes in
the volume group are in use.</p>
<div class="admonition danger">
<p class="admonition-title">IMPORTANT</p>
<p>The following examples use the device <strong>vdb</strong> and its partitions to illustrate LVM
commands. In practice, use the appropriate devices for the disk and disk partitions
on your own system.</p>
</div>
<p><strong>Extending a Volume Group</strong></p>
<p>To extend a volume group, perform the following steps:</p>
<p><strong>Prepare the physical device and create the physical volume.</strong></p>
<p>As with creating a new volume group, you must create and prepare a new partition for use as a
physical volume if there are none prepared already.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>[root@host ~]# parted -s /dev/vdb mkpart primary 1027MiB 1539MiB
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>[root@host ~]# parted -s /dev/vdb set 3 lvm on
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>[root@host ~]# pvcreate /dev/vdb3
</code></pre></div>
A PV only needs to be created if there are no PVs free to extend the VG.</p>
<p><strong>Extend the volume group.</strong></p>
<p>Use <strong>vgextend</strong> to add the new physical volume to the volume group. Use the VG name and PV
device name as arguments to <strong>vgextend</strong>.</p>
<p>[root@host ~]# vgextend vg01 /dev/vdb3</p>
<p>This extends the vg01 VG by the size of the <strong>/dev/vdb3</strong> PV.</p>
<p>Verify that the new space is available.</p>
<p>Use <strong>vgdisplay</strong> to confirm the additional physical extents are available. Inspect the <strong>Free PE /
Size</strong> in the output. It should not be zero.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>[root@host ~]# vgdisplay vg01
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>--- Volume group ---
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>VG Name          vg01
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>...output omitted...
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>Free PE / Size           178 / 712.00 MiB
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>...output omitted...
</code></pre></div>
<strong>Reducing a Volume Group</strong></p>
<p>To reduce a volume group, perform the following steps:</p>
<p><strong>Move the physical extents.</strong></p>
<p>Use <strong>pvmove PV_DEVICE_NAME</strong> to relocate any physical extents from the physical volume you
want to remove to other physical volumes in the volume group. The other physical volumes must
have a sufficient number of free extents to accommodate this move. This is only possible if there
are enough free extents in the VG and if all of those come from other PVs.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>[root@host ~]# pvmove /dev/vdb3
</code></pre></div>
This command moves the PEs from <strong>/dev/vdb3</strong> to other PVs with free PEs in the same VG.</p>
<div class="admonition danger">
<p class="admonition-title">WARNING</p>
<p>Before using pvmove, back up data stored on all logical volumes in the volume
group. An unexpected power loss during the operation may leave the volume group
in an inconsistent state. This could cause loss of data on logical volumes in the
volume group.</p>
</div>
<p><strong>Reduce the volume group.</strong></p>
<p>Use <strong>vgreduce VG_NAME PV_DEVICE_NAME</strong> to remove a physical volume from a volume group.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>[root@host ~]# vgreduce vg01 /dev/vdb3
</code></pre></div>
This removes the <strong>/dev/vdb3</strong> PV from the vg01 VG and it can now be added to another VG.
Alternatively, <strong>pvremove</strong> can be used to permanently stop using the device as a PV.</p>
<h4 id="extending-a-logical-volume-and-xfs-file-system">EXTENDING A LOGICAL VOLUME AND XFS FILE SYSTEM<a class="headerlink" href="#extending-a-logical-volume-and-xfs-file-system" title="Permanent link">&para;</a></h4>
<p>One benefit of logical volumes is the ability to increase their size without experiencing downtime.
Free physical extents in a volume group can be added to a logical volume to extend its capacity,
which can then be used to extend the file system it contains.</p>
<p><strong>Extending a Logical Volume</strong></p>
<p>To extend a logical volume, perform the following steps:</p>
<p><strong>Verify that the volume group has space available.</strong></p>
<p>Use <strong>vgdisplay</strong> to verify that there are sufficient physical extents available.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>[root@host ~]# vgdisplay vg01
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>--- Volume group ---
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>VG Name            vg01
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>...output omitted...
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>Free PE / Size       178 / 712.00 MiB
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>...output omitted...
</code></pre></div>
Inspect the <strong>Free PE / Size</strong> in the output. Confirm that the volume group has sufficient
free space for the LV extension. If insufficient space is available, then extend the volume group
appropriately. See the section called “Extending and Reducing a Volume Group”.</p>
<p><strong>Extend the logical volume.</strong></p>
<p>Use <strong>lvextendLV_DEVICE_NAME</strong> to extend the logical volume to a new size.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>[root@host ~]# lvextend -L +300M /dev/vg01/lv01
</code></pre></div>
This increases the size of the logical volume lv01 by 300 MiB. Notice the plus sign (+) in front of
the size, which means add this value to the existing size; otherwise, the value defines the final size
of the LV.</p>
<p>As with <strong>lvcreate</strong>, different methods exist to specify the size: the -l option expects the number
of physical extents as the argument. The -L option expects sizes in bytes, mebibytes, gibibytes,
and similar.</p>
<p>The following list provides some examples of extending LVs.</p>
<p><strong>Extending LVs Examples</strong></p>
<table>
<thead>
<tr>
<th>COMMAND</th>
<th>RESULTS</th>
</tr>
</thead>
<tbody>
<tr>
<td>lvextend -l 128</td>
<td>Resize the logical volume to exactly 128 extents in size.</td>
</tr>
<tr>
<td>lvextend -l +128</td>
<td>Add 128 extents to the current size of the logical volume</td>
</tr>
<tr>
<td>lvextend -L 128M</td>
<td>Resize the logical volume to exactly 128 MiB.</td>
</tr>
<tr>
<td>lvextend -L +128M</td>
<td>Add 128 MiB to the current size of the logical volume.</td>
</tr>
<tr>
<td>lvextend -l +50%FREE</td>
<td>Add 50 percent of the current free space in the VG to the LV.</td>
</tr>
</tbody>
</table>
<p><strong>Extend the file system.</strong></p>
<p>Use <strong>xfs_growfs</strong> mountpoint to expand the file system to occupy the extended LV. The target
file system must be mounted when you use the <strong>xfs_growfs</strong> command. You can continue to use
the file system while it is being resized.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>[root@host ~]# xfs_growfs /mnt/data
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">NOTE</p>
<p>A common mistake is to run <strong>lvextend</strong> but to forget to run <strong>xfs_growfs</strong>. An
alternative to running the two steps consecutively is to include the -r option with
the <strong>lvextend</strong> command. This resizes the file system after the LV is extended, using
<strong>fsadm</strong>(8). It works with a number of different file systems.</p>
</div>
<ul>
<li>Verify the new size of the mounted file system:</li>
</ul>
<p><code>df -h /mountpoint.</code></p>
<h4 id="extending-a-logical-volume-and-ext4-file-system">EXTENDING A LOGICAL VOLUME AND EXT4 FILE SYSTEM<a class="headerlink" href="#extending-a-logical-volume-and-ext4-file-system" title="Permanent link">&para;</a></h4>
<p>The steps for extending an <strong>ext4</strong>-based logical volume are essentially the same as for an <strong>XFS</strong>-
based LV, except for the step that resizes the file system. Review the section called “Extending a
Logical Volume and XFS File System”.</p>
<p><strong>Verify that the volume group has space available.</strong></p>
<p>Use <strong>vgdisplay VGNAME</strong> to verify that the volume group has a sufficient number of physical
extents available.</p>
<p><strong>Extend the logical volume.</strong></p>
<p>Use <strong>lvextend -l +extents /dev/vgname/lvname</strong> to extend the logical volume /dev/
vgname/lvname by the extents value.</p>
<p><strong>Extend the file system.</strong></p>
<p>Use <strong>resize2fs /dev/vgname/lvname</strong> to expand the file system to occupy the new extended
LV. The file system can be mounted and in use while the extension command is running. You can
include the <strong>-p</strong> option to monitor the progress of the resize operation.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>[root@host ~]# resize2fs /dev/vg01/lv01
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">NOTE</p>
<p>The primary difference between <strong>xfs_growfs</strong> and <strong>resize2fs</strong> is the argument
passed to identify the file system. <strong>xfs_growfs</strong> takes the mount point and
<strong>resize2fs</strong> takes the logical volume name.</p>
</div>
<h4 id="extend-a-logical-volume-and-swap-space">EXTEND A LOGICAL VOLUME AND SWAP SPACE<a class="headerlink" href="#extend-a-logical-volume-and-swap-space" title="Permanent link">&para;</a></h4>
<p>Logical volumes formatted as swap space can be extended as well, however the process is
different than the one for extending a file system, such as <strong>ext4</strong> or <strong>XFS</strong>. Logical volumes
formatted with a file system can be extended dynamically with no downtime. Logical volumes
formatted with swap space must be taken offline in order to extend them.</p>
<p><strong>Verify the volume group has space available.</strong></p>
<p>Use vgdisplay vgname to verify that a sufficient number of free physical extents are available.</p>
<p><strong>Deactivate the swap space.</strong></p>
<p>Use <strong>swapoff -v /dev/vgname/lvname</strong> to deactivate the swap space on the logical volume.</p>
<div class="admonition danger">
<p class="admonition-title">WARNING</p>
<p>Your system must have enough free memory or swap space to accept anything that
needs to page in when the swap space on the logical volume is deactivated.</p>
</div>
<p><strong>Extend the logical volume.</strong></p>
<p><strong>lvextend -l +extents /dev/vgname/lvname</strong> extends the logical volume /dev/vgname/
lvname by the extents value.</p>
<p><strong>Format the logical volume as swap space.</strong></p>
<p><strong>mkswap /dev/vgname/lvname</strong> formats the entire logical volume as swap space.</p>
<p><strong>Activate the swap space.</strong></p>
<p>Use <strong>swapon -va /dev/vgname/lvname</strong> to activate the swap space on the logical volume.</p>
<h3 id="summary">SUMMARY<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h3>
<p>In this chapter, you learned:</p>
<ul>
<li>
<p>LVM allows you to create flexible storage by allocating space on multiple storage devices.</p>
</li>
<li>
<p>Physical volumes, volume groups, and logical volumes are managed by a variety of tools such as
<strong>pvcreate, vgreduce</strong>, and <strong>lvextend</strong>.</p>
</li>
<li>
<p>Logical volumes can be formatted with a file system or swap space, and they can be mounted
persistently.</p>
</li>
<li>
<p>Additional storage can be added to volume groups and logical volumes can be extended
dynamically.</p>
</li>
</ul>
<h3 id="lab">LAB<a class="headerlink" href="#lab" title="Permanent link">&para;</a></h3>
<p>pdf - 218</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">December 7, 2022</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../storage/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Managing Basic Storage" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Managing Basic Storage
            </div>
          </div>
        </a>
      
      
        
        <a href="../vdo/" class="md-footer__link md-footer__link--next" aria-label="Next: Implementing Advanced Storage Features" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Implementing Advanced Storage Features
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 Divijesh Varma. All rights reserved.
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "navigation.top", "navigation.sections", "content.tooltips", "header.autohide"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="../../javascripts/feedback.js"></script>
      
    
    
  </body>
</html>