
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://divijesh.tech/redhat2/cmd/">
      
      <link rel="icon" href="../../assets/img/layout/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Improving Command-Line Productivity - Divijesh Varma</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="teal">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#writing-simple-bash-scripts" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Divijesh Varma" class="md-header__button md-logo" aria-label="Divijesh Varma" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Divijesh Varma
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Improving Command-Line Productivity
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../linux/vi/" class="md-tabs__link">
        Linux
      </a>
    </li>
  

  

      
        
  
  
    
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../redhat/intro/" class="md-tabs__link md-tabs__link--active">
        RedHat
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../english/vol1/" class="md-tabs__link">
        English
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../basics/threat-modeling/" class="md-tabs__link">
        Knowledge Base
      </a>
    </li>
  

  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../tools/" class="md-tabs__link">
        Recommendations
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../about/" class="md-tabs__link">
        About
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Divijesh Varma" class="md-nav__button md-logo" aria-label="Divijesh Varma" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Divijesh Varma
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Linux" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_1">
          Editors
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Editors" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Editors
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/vi/" class="md-nav__link">
        Vim
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/nano/" class="md-nav__link">
        Nano
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_2">
          Notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Notes" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/rhcsa/" class="md-nav__link">
        Tritree
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/user/" class="md-nav__link">
        User Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/acl/" class="md-nav__link">
        Access control lists (ACLs)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/network/" class="md-nav__link">
        Networking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/ssh/" class="md-nav__link">
        OpenSSH
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/process/" class="md-nav__link">
        Process Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/software/" class="md-nav__link">
        Software Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/systemd/" class="md-nav__link">
        Systemd Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/cron/" class="md-nav__link">
        Cron Jobs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/logs/" class="md-nav__link">
        Logs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/disk/" class="md-nav__link">
        Disk Management
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          RedHat
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="RedHat" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          RedHat
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_1">
          RHSA I (RH124)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="RHSA I (RH124)" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          RHSA I (RH124)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/intro/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/access/" class="md-nav__link">
        Accessing The Command Line
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/manage/" class="md-nav__link">
        Managing Files From The Command Line
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/help/" class="md-nav__link">
        Getting Help In Red Hat Enterprise Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/edit/" class="md-nav__link">
        Creating, Viewing, And Editing Text Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/users/" class="md-nav__link">
        Managing Local Users And Groups
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/control/" class="md-nav__link">
        Controlling Access To Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/monitor/" class="md-nav__link">
        Monitoring And Managing Linux Processes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/service/" class="md-nav__link">
        Controlling Services And Daemons
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/secssh/" class="md-nav__link">
        Configuring And Securing Ssh
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/store/" class="md-nav__link">
        Analyzing And Storing Logs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/mannet/" class="md-nav__link">
        Managing Networking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/archiv/" class="md-nav__link">
        Archiving And Transferring Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/pack/" class="md-nav__link">
        Installing And Updating Software Packages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/filsys/" class="md-nav__link">
        Accessing Linux File Systems
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/support/" class="md-nav__link">
        Analyzing Servers And Getting Support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../redhat/review/" class="md-nav__link">
        Comprehensive Review
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          RHSA II (RH134)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="RHSA II (RH134)" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          RHSA II (RH134)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Improving Command-Line Productivity
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Improving Command-Line Productivity
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#writing-simple-bash-scripts" class="md-nav__link">
    WRITING SIMPLE BASH SCRIPTS
  </a>
  
    <nav class="md-nav" aria-label="WRITING SIMPLE BASH SCRIPTS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-and-executing-bash-shell-scripts" class="md-nav__link">
    CREATING AND EXECUTING BASH SHELL SCRIPTS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-commands-more-efficiently-using-loops" class="md-nav__link">
    RUNNING COMMANDS MORE EFFICIENTLY USING LOOPS
  </a>
  
    <nav class="md-nav" aria-label="RUNNING COMMANDS MORE EFFICIENTLY USING LOOPS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-loops-to-iterate-commands" class="md-nav__link">
    USING LOOPS TO ITERATE COMMANDS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-exit-codes-within-a-script" class="md-nav__link">
    USING EXIT CODES WITHIN A SCRIPT
  </a>
  
    <nav class="md-nav" aria-label="USING EXIT CODES WITHIN A SCRIPT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testing-script-inputs" class="md-nav__link">
    TESTING SCRIPT INPUTS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conditional-structures" class="md-nav__link">
    CONDITIONAL STRUCTURES
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matching-text-in-command-output-with-regular-expressions" class="md-nav__link">
    MATCHING TEXT IN COMMAND OUTPUT WITH REGULAR EXPRESSIONS
  </a>
  
    <nav class="md-nav" aria-label="MATCHING TEXT IN COMMAND OUTPUT WITH REGULAR EXPRESSIONS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#writing-regular-expressions" class="md-nav__link">
    WRITING REGULAR EXPRESSIONS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matching-regular-expressions-with-grep" class="md-nav__link">
    MATCHING REGULAR EXPRESSIONS WITH GREP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    SUMMARY
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab" class="md-nav__link">
    LAB
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/" class="md-nav__link">
        Scheduling Future Tasks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tuning/" class="md-nav__link">
        Tuning System Performance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../acls/" class="md-nav__link">
        Controlling Access To Files With Acls
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          English
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="English" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          English
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4_1" type="checkbox" id="__nav_4_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4_1">
          Tutorial
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorial" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Tutorial
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../english/vol1/" class="md-nav__link">
        Vol-1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../english/vol2/" class="md-nav__link">
        Vol-2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../english/vol3/" class="md-nav__link">
        Vol-3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../english/vol4/" class="md-nav__link">
        Vol-4
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Knowledge Base
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Knowledge Base" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Knowledge Base
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_1" type="checkbox" id="__nav_5_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_1">
          The Basics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="The Basics" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_1">
          <span class="md-nav__icon md-icon"></span>
          The Basics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/threat-modeling/" class="md-nav__link">
        Threat Modeling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/dns/" class="md-nav__link">
        Introduction to DNS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/multi-factor-authentication/" class="md-nav__link">
        Multi-factor Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/account-deletion/" class="md-nav__link">
        Account Deletion
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_2">
          Android
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Android" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Android
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../android/overview/" class="md-nav__link">
        Android Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../android/grapheneos-vs-calyxos/" class="md-nav__link">
        GrapheneOS vs CalyxOS
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_3">
          Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Linux" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux-desktop/overview/" class="md-nav__link">
        Linux Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux-desktop/hardening/" class="md-nav__link">
        System Hardening
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux-desktop/sandboxing/" class="md-nav__link">
        Application Sandboxing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5_4">
          Advanced
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Advanced" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Advanced
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/integrating-metadata-removal/" class="md-nav__link">
        Integrating Metadata Removal
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Recommendations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Recommendations" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Recommendations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/" class="md-nav__link">
        Privacy Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_2" type="checkbox" id="__nav_6_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_2">
          Browsers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Browsers" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Browsers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../browsers/" class="md-nav__link">
        Web Browsers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_3" type="checkbox" id="__nav_6_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_3">
          Operating Systems
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Operating Systems" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          Operating Systems
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../android/" class="md-nav__link">
        Android
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux-desktop/" class="md-nav__link">
        Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../qubes/" class="md-nav__link">
        Qubes OS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../router/" class="md-nav__link">
        Router Firmware
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_4" type="checkbox" id="__nav_6_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_4">
          Providers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Providers" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_4">
          <span class="md-nav__icon md-icon"></span>
          Providers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/" class="md-nav__link">
        Cloud Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dns/" class="md-nav__link">
        DNS Resolvers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../email/" class="md-nav__link">
        Email Services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../search-engines/" class="md-nav__link">
        Search Engines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../vpn/" class="md-nav__link">
        VPN Services
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6_5" type="checkbox" id="__nav_6_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_5">
          Software
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Software" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_5">
          <span class="md-nav__icon md-icon"></span>
          Software
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../calendar-contacts/" class="md-nav__link">
        Calendar and Contact Sync
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/" class="md-nav__link">
        Notebooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../email-clients/" class="md-nav__link">
        Email Clients
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../encryption/" class="md-nav__link">
        Encryption Software
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../file-sharing/" class="md-nav__link">
        File Sharing and Sync
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../metadata-removal-tools/" class="md-nav__link">
        Metadata Removal Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../multi-factor-authentication/" class="md-nav__link">
        Multi-Factor Authenticators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../passwords/" class="md-nav__link">
        Password Managers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../productivity/" class="md-nav__link">
        Productivity Tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../real-time-communication/" class="md-nav__link">
        Real-Time Communication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../news-aggregators/" class="md-nav__link">
        News Aggregators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../self-contained-networks/" class="md-nav__link">
        Self-Contained Networks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../video-streaming/" class="md-nav__link">
        Video Streaming
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        Heading
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#writing-simple-bash-scripts" class="md-nav__link">
    WRITING SIMPLE BASH SCRIPTS
  </a>
  
    <nav class="md-nav" aria-label="WRITING SIMPLE BASH SCRIPTS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-and-executing-bash-shell-scripts" class="md-nav__link">
    CREATING AND EXECUTING BASH SHELL SCRIPTS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-commands-more-efficiently-using-loops" class="md-nav__link">
    RUNNING COMMANDS MORE EFFICIENTLY USING LOOPS
  </a>
  
    <nav class="md-nav" aria-label="RUNNING COMMANDS MORE EFFICIENTLY USING LOOPS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-loops-to-iterate-commands" class="md-nav__link">
    USING LOOPS TO ITERATE COMMANDS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-exit-codes-within-a-script" class="md-nav__link">
    USING EXIT CODES WITHIN A SCRIPT
  </a>
  
    <nav class="md-nav" aria-label="USING EXIT CODES WITHIN A SCRIPT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testing-script-inputs" class="md-nav__link">
    TESTING SCRIPT INPUTS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conditional-structures" class="md-nav__link">
    CONDITIONAL STRUCTURES
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matching-text-in-command-output-with-regular-expressions" class="md-nav__link">
    MATCHING TEXT IN COMMAND OUTPUT WITH REGULAR EXPRESSIONS
  </a>
  
    <nav class="md-nav" aria-label="MATCHING TEXT IN COMMAND OUTPUT WITH REGULAR EXPRESSIONS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#writing-regular-expressions" class="md-nav__link">
    WRITING REGULAR EXPRESSIONS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matching-regular-expressions-with-grep" class="md-nav__link">
    MATCHING REGULAR EXPRESSIONS WITH GREP
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    SUMMARY
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab" class="md-nav__link">
    LAB
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  




  <h1>Improving Command-Line Productivity</h1>

<h3 id="writing-simple-bash-scripts">WRITING SIMPLE BASH SCRIPTS<a class="headerlink" href="#writing-simple-bash-scripts" title="Permanent link">&para;</a></h3>
<h4 id="creating-and-executing-bash-shell-scripts">CREATING AND EXECUTING BASH SHELL SCRIPTS<a class="headerlink" href="#creating-and-executing-bash-shell-scripts" title="Permanent link">&para;</a></h4>
<p>Many simple, common system administration tasks are accomplished using command-line tools.
Tasks with greater complexity often require chaining together multiple commands that pass
results between them. Using the Bash shell environment and scripting features, Linux commands
are combined into shell scripts to easily solve repetitive and difficult real-world problems.</p>
<p>In its simplest form, a Bash shell script is an executable file that contains a list of commands, and
possibly with programming logic to control decision-making in the overall task. When well-written,
a shell script is a powerful command-line tool on its own, and can be leveraged by other scripts.</p>
<p>Shell scripting proficiency is essential to successful system administration in any operational
environment. Working knowledge of shell scripting is crucial in enterprise environments, where
script use can improve the efficiency and accuracy of routine task completion.</p>
<p>You can create a Bash shell script by opening a new empty file in a text editor. While you can
use any text editor, advanced editors, such as <strong>vim or emacs</strong>, understand Bash shell syntax and
can provide <strong>color-coded</strong> highlighting. This highlighting helps identify common errors such as
improper syntax, unpaired quotes, unclosed parenthesis, braces, and brackets, and much more.</p>
<p><strong>Specifying the Command Interpreter</strong></p>
<p>The first line of a script begins with the notation <strong>'#!'</strong>, commonly referred to as <strong>sh-bang</strong> or <strong>she-
bang</strong>, from the names of those two characters, <strong>sharp</strong> and <strong>bang</strong>. This specific two-byte <strong>magic
number</strong> notation indicates an interpretive script; syntax that follows the notation is the fully-
qualified filename for the correct <strong>command interpreter</strong> needed to process this script's lines.
To understand how <strong>magic numbers</strong> indicate file types in Linux, see the <strong>file(1)</strong> and <strong>magic(5)</strong>
man pages. For script files using Bash scripting syntax, the first line of a shell script begins as
follows:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="ch">#!/bin/bash</span>
</code></pre></div>
<strong>Executing a Bash Shell Script</strong></p>
<p>A completed shell script must be executable to run as an ordinary command. Use the <strong>chmod</strong>
command to add execute permission, possibly in conjunction with the <strong>chown</strong> command to change
the file ownership of the script. Grant execute permission only for intended users of the script.</p>
<p>If you place the script in one of the directories listed in the shell's PATH environmental variable,
then you can invoke the shell script using the file name alone as with any other command. The shell
uses the first command it finds with that file name; avoid using existing command names for your
shell script file name. Alternatively, you can invoke a shell script by entering a path name to the
script on the command line. The <strong>which</strong> command, followed by the file name of the executable
script, displays the path name to the command that will be executed.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ which hello
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>~/bin/hello
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="nb">echo</span> <span class="nv">$PATH</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>/home/user/.local/bin:/home/user/bin:/usr/share/Modules/bin:/usr/local/bin:/usr/
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>bin:/usr/local/sbin:/usr/sbin
</code></pre></div>
<p><strong>Quoting Special Characters</strong></p>
<p>A number of characters and words have special meaning to the Bash shell. However, occasionally
you will want to use these characters for their literal values, rather than for their special meanings.
To do this, use one of three tools to remove (or escape) the special meaning: the backslash (),
single quotes (''), or double quotes ("").</p>
<p>The backslash escape character removes the special meaning of the single character immediately
following it. For example, to display the literal string # <strong>not a comment</strong> with the <strong>echo</strong> command,
the # sign must not be interpreted by Bash as having special meaning. Place the backslash
character in front of the # sign.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="nb">echo</span> <span class="c1"># not a comment</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="nb">echo</span> <span class="se">\#</span> not a comment
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="c1"># not a comment</span>
</code></pre></div>
<p>When you need to escape more than one character in a text string, either use the escape
character multiple times or employ single quotes (''). Single quotes preserve the literal meaning of
all characters they enclose. Observe the escape character and single quotes in action:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="nb">echo</span> <span class="c1"># not a comment #</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="nb">echo</span> <span class="se">\#</span> not a comment <span class="c1">#</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="c1"># not a comment</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="nb">echo</span> <span class="se">\#</span> not a comment <span class="se">\#</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="c1"># not a comment #</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="nb">echo</span> <span class="s1">&#39;# not a comment #&#39;</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="c1"># not a comment #</span>
</code></pre></div>
<p>Use double quotation marks to suppress globbing and shell expansion, but still allow command
and variable substitution. Variable substitution is conceptually identical to command substitution,
but may use optional brace syntax. Observe the examples of various forms of quotation mark use
below.</p>
<p>Use single quotation marks to interpret all text literally. Besides suppressing globbing and shell
expansion, quotations direct the shell to additionally suppress command and variable substitution.
The question mark (?) is a <strong>meta-character</strong> that also needs protection from expansion.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="nv">var</span><span class="o">=</span><span class="k">$(</span>hostname -s<span class="k">)</span><span class="p">;</span> <span class="nb">echo</span> <span class="nv">$var</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>host
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="nb">echo</span> <span class="s2">&quot;***** hostname is </span><span class="si">${</span><span class="nv">var</span><span class="si">}</span><span class="s2"> *****&quot;</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>***** hostname is host *****
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="nb">echo</span> Your username variable is <span class="se">\$</span>USER.
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>Your username variable is <span class="nv">$USER</span>.
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="nb">echo</span> <span class="s2">&quot;Will variable </span><span class="nv">$var</span><span class="s2"> evaluate to </span><span class="k">$(</span>hostname -s<span class="k">)</span><span class="s2">?&quot;</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>Will variable host evaluate to host?
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="nb">echo</span> <span class="s1">&#39;Will variable $var evaluate to $(hostname -s)?&#39;</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>Will variable <span class="nv">$var</span> evaluate to <span class="k">$(</span>hostname -s<span class="k">)</span>?
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="nb">echo</span> <span class="s2">&quot;\&quot;Hello, world\&quot;&quot;</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="s2">&quot;Hello, world&quot;</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="nb">echo</span> <span class="s1">&#39;&quot;Hello, world&quot;&#39;</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="s2">&quot;Hello, world&quot;</span>
</code></pre></div>
<strong>Providing Output From a Shell Script</strong></p>
<p>The echo command displays arbitrary text by passing the text as an argument to the command.
By default, the text displays on standard output (STDOUT), but it can also be directed to standard
error (STDERR) using output redirection. In the following simple Bash script, the <strong>echo</strong> command
displays the message "<strong>Hello, world</strong>" to STDOUT.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ cat ~/bin/hello
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="c1">#!/bin/bash</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="nb">echo</span> <span class="s2">&quot;Hello, world&quot;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ hello
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>Hello, world
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">NOTE</p>
<p>This user can just run <strong>hello</strong> at the prompt because the <strong>~/bin</strong> (<strong>/home/user/bin</strong>)
directory is in the user's PATH variable and the <strong>hello</strong> script in it is executable. The
shell automatically finds the script there, as long as there is no other executable file
called <strong>hello</strong> in any of the directories listed prior to <strong>/home/user/bin</strong> in the PATH.</p>
</div>
<p>The <strong>echo</strong> command is widely used in shell scripts to display informational or error messages.
These messages can be a helpful indicator of the progress of a script and can be directed either to
standard output, standard error, or be redirected to a log file for archiving. When displaying error
messages, it is good practice to direct them to STDERR to make it easier to differentiate error
messages from normal status messages.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ cat ~/bin/hello
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="c1">#!/bin/bash</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="nb">echo</span> <span class="s2">&quot;Hello, world&quot;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="nb">echo</span> <span class="s2">&quot;ERROR: Houston, we have a problem.&quot;</span> &gt;<span class="p">&amp;</span><span class="m">2</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ hello <span class="m">2</span>&gt; hello.log
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>Hello, world
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ cat hello.log
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>ERROR: Houston, we have a problem.
</code></pre></div>
The <strong>echo</strong> command can also be very helpful when trying to debug a problematic shell script. The
addition of <strong>echo</strong> statements to the portion of the script that is not behaving as expected can help
clarify the commands being executed, as well as the values of variables being invoked.</p>
<h3 id="running-commands-more-efficiently-using-loops">RUNNING COMMANDS MORE EFFICIENTLY USING LOOPS<a class="headerlink" href="#running-commands-more-efficiently-using-loops" title="Permanent link">&para;</a></h3>
<h4 id="using-loops-to-iterate-commands">USING LOOPS TO ITERATE COMMANDS<a class="headerlink" href="#using-loops-to-iterate-commands" title="Permanent link">&para;</a></h4>
<p>System administrators often encounter repetitive tasks in their day-to-day activities. Repetitive
tasks can take the form of executing an action multiple times on a target, such as checking a
process every minute for 10 minutes to see if it has completed. Task repetition can also take the
form of executing an action once across multiple targets, such as backing up each database on a
system. The for loop is one of the multiple shell looping constructs offered by Bash, and can be
used for task iterations.</p>
<p><strong>Processing Items from the Command Line</strong></p>
<p>Bash's for loop construct uses the following syntax.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>for VARIABLE in LIST; do
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>COMMAND VARIABLE
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>done
</code></pre></div>
The loop processes the strings provided in LIST in order one by one and exits after processing the
last string in the list. Each string in the list is temporarily stored as the value of VARIABLE, while the
<strong>for</strong> loop executes the block of commands contained in its construct. The naming of the variable is
arbitrary. Typically, the variable value is referenced by commands in the command block.</p>
<p>The list of strings provided to a <strong>for</strong> loop can be supplied in several ways. It can be a list of
strings entered directly by the user, or be generated from different types of shell expansion,
such as variable, brace, or file-name expansion, or command substitution. Some examples that
demonstrate the different ways strings can be provided to <strong>for</strong> loops follow.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="k">for</span> HOST <span class="k">in</span> host1 host2 host3<span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> <span class="nv">$HOST</span><span class="p">;</span> <span class="k">done</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>host1
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>host2
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>host3
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="k">for</span> HOST <span class="k">in</span> host<span class="o">{</span><span class="m">1</span>,2,3<span class="o">}</span><span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> <span class="nv">$HOST</span><span class="p">;</span> <span class="k">done</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>host1
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>host2
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>host3
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="k">for</span> HOST <span class="k">in</span> host<span class="o">{</span><span class="m">1</span>..3<span class="o">}</span><span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> <span class="nv">$HOST</span><span class="p">;</span> <span class="k">done</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>host1
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>host2
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>host3
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="k">for</span> FILE <span class="k">in</span> file*<span class="p">;</span> <span class="k">do</span> ls <span class="nv">$FILE</span><span class="p">;</span> <span class="k">done</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>filea
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>fileb
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>filec
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="k">for</span> FILE <span class="k">in</span> file<span class="o">{</span>a..c<span class="o">}</span><span class="p">;</span> <span class="k">do</span> ls <span class="nv">$FILE</span><span class="p">;</span> <span class="k">done</span>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a>filea
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a>fileb
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a>filec
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="k">for</span> PACKAGE <span class="k">in</span> <span class="k">$(</span>rpm -qa <span class="p">|</span> grep kernel<span class="k">)</span><span class="p">;</span> <span class="se">\</span>
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$PACKAGE</span><span class="s2"> was installed on \</span>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="k">$(</span>date -d @<span class="k">$(</span>rpm -q --qf <span class="s2">&quot;%{INSTALLTIME}\n&quot;</span> <span class="nv">$PACKAGE</span><span class="k">))</span><span class="s2">&quot;</span><span class="p">;</span> <span class="k">done</span>
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a>abrt-addon-kerneloops-2.1.11-12.el7.x86_64 was installed on Tue Apr <span class="m">22</span> <span class="m">00</span>:09:07
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a>EDT <span class="m">2014</span>
<a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a>kernel-3.10.0-121.el7.x86_64 was installed on Thu Apr <span class="m">10</span> <span class="m">15</span>:27:52 EDT <span class="m">2014</span>
<a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a>kernel-tools-3.10.0-121.el7.x86_64 was installed on Thu Apr <span class="m">10</span> <span class="m">15</span>:28:01 EDT <span class="m">2014</span>
<a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a>kernel-tools-libs-3.10.0-121.el7.x86_64 was installed on Thu Apr <span class="m">10</span> <span class="m">15</span>:26:22 EDT
<a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a><span class="m">2014</span>
<a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="k">for</span> EVEN <span class="k">in</span> <span class="k">$(</span>seq <span class="m">2</span> <span class="m">2</span> <span class="m">10</span><span class="k">)</span><span class="p">;</span> <span class="k">do</span> <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$EVEN</span><span class="s2">&quot;</span><span class="p">;</span> <span class="k">done</span>
<a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a><span class="m">2</span>
<a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a><span class="m">4</span>
<a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a><span class="m">6</span>
<a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a><span class="m">8</span>
<a id="__codelineno-8-35" name="__codelineno-8-35" href="#__codelineno-8-35"></a><span class="m">10</span>
</code></pre></div>
<h3 id="using-exit-codes-within-a-script">USING EXIT CODES WITHIN A SCRIPT<a class="headerlink" href="#using-exit-codes-within-a-script" title="Permanent link">&para;</a></h3>
<p>After a script has processed all of its contents, it exits to the process that called it. However, there
may be times when it is desirable to exit a script before it finishes, such as when an error condition
is encountered. This can be accomplished with the use of the <strong>exit</strong> command within a script. When
a script encounters the <strong>exit</strong> command, it exits immediately and does not process the remainder
of the script.</p>
<p>The <strong>exit</strong> command can be executed with an optional integer argument between <strong>0</strong> and <strong>255</strong>, which
represents an exit code. An exit code is a code that is returned after a process has completed. An
exit code value of <strong>0</strong> represents no error. All other nonzero values indicate an error exit code. You
can use different nonzero values to differentiate between different types of errors encountered.
This exit code is passed back to the parent process, which stores it in the ? variable and can be
accessed with <strong>$?</strong> as demonstrated in the following examples.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="o">[</span>user@host bin<span class="o">]</span>$ cat hello
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="c1">#!/bin/bash</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="nb">echo</span> <span class="s2">&quot;Hello, world&quot;</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="nb">exit</span> <span class="m">0</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="o">[</span>user@host bin<span class="o">]</span>$ ./hello
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>Hello, world
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="o">[</span>user@host bin<span class="o">]</span>$ <span class="nb">echo</span> <span class="nv">$?</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="m">0</span>
</code></pre></div>
If the <strong>exit</strong> command is called without an argument, then the script exits and passes the exit
status of the last command executed to the parent process.</p>
<h4 id="testing-script-inputs">TESTING SCRIPT INPUTS<a class="headerlink" href="#testing-script-inputs" title="Permanent link">&para;</a></h4>
<p>To ensure that scripts are not easily disrupted by unexpected conditions, it is good practice to
not make assumptions regarding input, such as command-line arguments, user input, command
substitutions, variable expansions, and file-name expansions. Integrity checking can be performed
by using Bash's test command.</p>
<p>Like all commands, the test command produces an exit code upon completion, which is stored
as the value $?. To see the conclusion of a test, display the value of $? immediately following the
execution of the test command. Again, an exit status value of 0 indicates the test succeeded, and
nonzero values indicate the test failed.</p>
<p>Tests are performed using a variety of operators. Operators can be used to determine if a number
is greater than, greater than or equal to, less than, less than or equal to, or equal to another
number. They can be used to test if a string of text is the same or not the same as another string of
text. Operators can also be used to evaluate if a variable has a value or not.</p>
<div class="admonition info">
<p class="admonition-title">NOTE</p>
<p>Many types of operators are used in shell scripting, in addition to the comparison
operators taught here. The man page for <strong>test</strong>(1) lists the important conditional
expression operators with descriptions. The <strong>bash</strong>(1) man page also explains
operator use and evaluation, but is a very difficult read for beginners. It is
recommended that students further their advanced shell scripting needs through
books and courses dedicated to shell programming.</p>
</div>
<p>The following examples demonstrate the use of the <strong>test</strong> command using Bash's numeric comparison operators.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="nb">test</span> <span class="m">1</span> -gt <span class="m">0</span> <span class="p">;</span> <span class="nb">echo</span> <span class="nv">$?</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="m">0</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="nb">test</span> <span class="m">0</span> -gt <span class="m">1</span> <span class="p">;</span> <span class="nb">echo</span> <span class="nv">$?</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="m">1</span>
</code></pre></div>
Tests can be performed using the Bash test command syntax, [ <strong><TESTEXPRESSION></strong> ].
They can also be performed using Bash's newer extended test command syntax,
[[ <strong><TESTEXPRESSION></strong> ]], which has been available since Bash version 2.02 and provides
features such as glob pattern matching and regex pattern matching.</p>
<p>The following examples demonstrate the use of Bash's <strong>test</strong> command syntax and Bash's numeric
comparison operators.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="o">[</span> <span class="m">1</span> -eq <span class="m">1</span> <span class="o">]</span><span class="p">;</span> <span class="nb">echo</span> <span class="nv">$?</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="m">0</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="o">[</span> <span class="m">1</span> -ne <span class="m">1</span> <span class="o">]</span><span class="p">;</span> <span class="nb">echo</span> <span class="nv">$?</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="m">1</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="o">[</span> <span class="m">8</span> -gt <span class="m">2</span> <span class="o">]</span><span class="p">;</span> <span class="nb">echo</span> <span class="nv">$?</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="m">0</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="o">[</span> <span class="m">2</span> -ge <span class="m">2</span> <span class="o">]</span><span class="p">;</span> <span class="nb">echo</span> <span class="nv">$?</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="m">0</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="o">[</span> <span class="m">2</span> -lt <span class="m">2</span> <span class="o">]</span><span class="p">;</span> <span class="nb">echo</span> <span class="nv">$?</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="m">1</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="o">[</span> <span class="m">1</span> -lt <span class="m">2</span> <span class="o">]</span><span class="p">;</span> <span class="nb">echo</span> <span class="nv">$?</span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="m">0</span>
</code></pre></div>
The following examples demonstrate the use of Bash's string comparison operators.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="o">[</span> <span class="nv">abc</span> <span class="o">=</span> abc <span class="o">]</span><span class="p">;</span> <span class="nb">echo</span> <span class="nv">$?</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="m">0</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="o">[</span> <span class="nv">abc</span> <span class="o">==</span> def <span class="o">]</span><span class="p">;</span> <span class="nb">echo</span> <span class="nv">$?</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="m">1</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="o">[</span> abc !<span class="o">=</span> def <span class="o">]</span><span class="p">;</span> <span class="nb">echo</span> <span class="nv">$?</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="m">0</span>
</code></pre></div>
The following examples demonstrate the use of Bash's string unary operators.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="nv">STRING</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">;</span> <span class="o">[</span> -z <span class="s2">&quot;</span><span class="nv">$STRING</span><span class="s2">&quot;</span> <span class="o">]</span><span class="p">;</span> <span class="nb">echo</span> <span class="nv">$?</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="m">0</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="nv">STRING</span><span class="o">=</span><span class="s1">&#39;abc&#39;</span><span class="p">;</span> <span class="o">[</span> -n <span class="s2">&quot;</span><span class="nv">$STRING</span><span class="s2">&quot;</span> <span class="o">]</span><span class="p">;</span> <span class="nb">echo</span> <span class="nv">$?</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="m">0</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">NOTE</p>
<p>The space characters inside the test brackets are mandatory, because they
separate the words and elements within the test expression. The shell's command
parsing routine divides all command lines into words and operators by recognizing
spaces and other metacharacters, using built-in parsing rules. For full treatment
of this advanced concept, see the man page getopt(3). The left square bracket
character ([) is itself a built-in alias for the test command. Shell words, whether
they are commands, subcommands, options, arguments or other token elements,
are always delimited by spaces.</p>
</div>
<h3 id="conditional-structures">CONDITIONAL STRUCTURES<a class="headerlink" href="#conditional-structures" title="Permanent link">&para;</a></h3>
<p>Simple shell scripts represent a collection of commands that are executed from beginning to end.
Conditional structures allow users to incorporate decision making into shell scripts, so that certain
portions of the script are executed only when certain conditions are met.</p>
<p><strong>Using the if/then Construct</strong></p>
<p>The simplest of the conditional structures in Bash is the if/then construct, which has the following
syntax.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>if &lt;CONDITION&gt;; then
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>&lt;STATEMENT&gt;
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>...
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>&lt;STATEMENT&gt;
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>fi
</code></pre></div>
With this construct, if a given condition is met, one or more actions are taken. If the given
condition is not met, then no action is taken. The numeric, string, and file tests previously
demonstrated are frequently utilized for testing the conditions in <strong>if/then</strong> statements. The <strong>fi</strong>
statement at the end closes the <strong>if/then</strong> construct. The following code section demonstrates the
use of an <strong>if/then</strong> construct to start the psacct service if it is not active.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ systemctl is-active psacct &gt; /dev/null <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> -ne <span class="m">0</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>&gt; sudo systemctl start psacct
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>&gt; <span class="k">fi</span>
</code></pre></div>
<strong>Using the if/then/else Construct</strong></p>
<p>The <strong>if/then</strong> construct can be further expanded so that different sets of actions can be taken
depending on whether a condition is met. This is accomplished with the <strong>if/then/else</strong> construct.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>if &lt;CONDITION&gt;; then
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>&lt;STATEMENT&gt;
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>...
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>&lt;STATEMENT&gt;
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>else
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>&lt;STATEMENT&gt;
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>...
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>&lt;STATEMENT&gt;
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>fi
</code></pre></div>
The following code section demonstrates the use of an <strong>if/then/else</strong> statement to start the
psacct service if it is not active and to stop it if it is active.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>[user@host ~]$ systemctl is-active psacct &gt; /dev/null 2&gt;&amp;1
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>[user@host ~]$ if [ $? -ne 0 ]; then
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>&gt; sudo systemctl start psacct
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>&gt; else
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>&gt; sudo systemctl stop psacct
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>&gt; fi
</code></pre></div>
<strong>Using the if/then/elif/then/else Construct</strong></p>
<p>Lastly, the <strong>if/then/else</strong> construct can be further expanded to test more than one condition,
executing a different set of actions when a condition is met. The construct for this is shown in the
following example:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>if &lt;CONDITION&gt;; then
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>&lt;STATEMENT&gt;
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>...
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>&lt;STATEMENT&gt;
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>elif &lt;CONDITION&gt;; then
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>&lt;STATEMENT&gt;
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>...
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>&lt;STATEMENT&gt;
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>else
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>&lt;STATEMENT&gt;
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>...
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>&lt;STATEMENT&gt;
<a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>fi
</code></pre></div>
In this conditional structure, Bash tests the conditions in the order presented. When it finds a
condition that is true, Bash executes the actions associated with the condition and then skips
the remainder of the conditional structure. If none of the conditions are true, Bash executes the
actions enumerated in the <strong>else</strong> clause.</p>
<p>The following code section demonstrates the use of an <strong>if/then/elif/then/else</strong> statement
to run the <strong>mysql</strong> client if the mariadb service is active, run the <strong>psql</strong> client if the postgresql
service is active, or run the <strong>sqlite3</strong> client if both the mariadb and postgresql services are not
active.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ systemctl is-active mariadb &gt; /dev/null <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="nv">MARIADB_ACTIVE</span><span class="o">=</span><span class="nv">$?</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ sudo systemctl is-active postgresql &gt; /dev/null <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="nv">POSTGRESQL_ACTIVE</span><span class="o">=</span><span class="nv">$?</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ <span class="k">if</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$MARIADB_ACTIVE</span><span class="s2">&quot;</span> -eq <span class="m">0</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>&gt; mysql
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>&gt; <span class="k">elif</span> <span class="o">[</span> <span class="s2">&quot;</span><span class="nv">$POSTGRESQL_ACTIVE</span><span class="s2">&quot;</span> -eq <span class="m">0</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>&gt; psql
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>&gt; <span class="k">else</span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>&gt; sqlite3
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>&gt; <span class="k">fi</span>
</code></pre></div>
<h3 id="matching-text-in-command-output-with-regular-expressions">MATCHING TEXT IN COMMAND OUTPUT WITH REGULAR EXPRESSIONS<a class="headerlink" href="#matching-text-in-command-output-with-regular-expressions" title="Permanent link">&para;</a></h3>
<h4 id="writing-regular-expressions">WRITING REGULAR EXPRESSIONS<a class="headerlink" href="#writing-regular-expressions" title="Permanent link">&para;</a></h4>
<p>Regular expressions provide a pattern matching mechanism that facilitates finding specific
content. The <strong>vim , grep, and less</strong> commands can all use regular expressions. Programming
languages such as Perl, Python, and C can all use regular expressions when using pattern matching
criteria.</p>
<p>Regular expressions are a language of their own, which means they have their own syntax and
rules. This section looks at the syntax used when creating regular expressions, as well as showing
some regular expression examples.</p>
<p><strong>Describing a Simple Regular Expression</strong></p>
<p>The simplest regular expression is an exact match. An exact match is when the characters in the
regular expression match the type and order in the data that is being searched.</p>
<p>Suppose a user is looking through the following file looking for all occurrences of the pattern <strong>cat</strong>:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>cat
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>dog
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>concatenate
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>dogma
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>category
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>educated
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>boondoggle
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>vindication
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>chilidog
</code></pre></div>
<strong>cat</strong> is an exact match of a <strong>c</strong>, followed by an <strong>a</strong>, followed by a <strong>t</strong> with no other characters in between.
Using <strong>cat</strong> as the regular expression to search the previous file returns the following matches:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>cat
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>concatenate
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>category
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>educated
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>vindication
</code></pre></div>
<strong>Matching the Start and End of a Line</strong></p>
<p>The previous section used an exact match regular expression on a file. Note that the regular
expression would match the search string no matter where on the line it occurred: the beginning,
end, or middle of the word or line. Use a line anchor to control the location of where the regular
expression looks for a match.</p>
<p>To search at the beginning of a line, use the caret character (^). To search at the end of a line, use
the dollar sign ($).</p>
<p>Using the same file as above, the <strong>^cat</strong> regular expression would match two words. The <strong>$cat</strong>
regular expression would not find any matching words.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>cat
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>dog
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>concatenate
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>dogma
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>category
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>educated
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>boondoggle
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>vindication
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>chilidog
</code></pre></div>
To locate lines in the file ending with <strong>dog</strong>, use that exact expression and an end of line anchor to
create the regular expression dog<span class="arithmatex">\(. Applying dog\)</span> to the file would find two matches:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>dog
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>chilidog
</code></pre></div>
To locate the only word on a line, use both the beginning and end-of-line anchors. For example, to
locate the word <strong>cat</strong> when it is the only word on a line, use <strong>^cat$</strong>.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>cat dog rabbit
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>cat
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>horse cat cow
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>cat pig
</code></pre></div>
<strong>Adding Wildcards and Multipliers to Regular Expressions</strong></p>
<p>Regular expressions use a period or dot (.) to match any single character with the exception
of the newline character. A regular expression of c.t searches for a string that contains a c
followed by any single character followed by a t. Example matches include <strong>cat, concatenate,
vindication, c5t, and c$t</strong>.</p>
<p>Using an unrestricted wildcard you cannot predict the character that would match the wildcard. To
match specific characters, replace the unrestricted wildcard with acceptable characters. Changing
the regular expression to <strong>c[aou]t</strong> matches patterns that start with a c, followed by either an a, o,
or u, followed by a t.</p>
<p>Multipliers are a mechanism used often with wildcards. Multipliers apply to the previous character
in the regular expression. One of the more common multipliers used is the asterisk, or star
character (<em>). When used in a regular expression, this multiplier means match zero or more of the
previous expression. You can use * with expressions, not just characters. For example, c[aou]</em>t. A
regular expression of c.<em>t matches </em><em>cat, coat, culvert</em>*, and even ct (zero characters between
the c and the t). Any data starting with a c, then zero or more characters, ending with a t.</p>
<p>Another type of multiplier would indicate the number of previous characters desired in the pattern.
An example of using an explicit multiplier would be <strong>'c.{2}t'</strong>. This regular expression will
match any word beginning with a c, followed by exactly any two characters, and ending with a t.
<strong>'c.{2}t'</strong> would match two words in the example below:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>cat
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>coat convert
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>cart covert
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>cypher
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">NOTE</p>
<p>It is recommend practice to use single quotes to encapsulate the regular expression
because they often contain shell metacharacters (such as <strong>$, </strong><em>, and </em><em>{}</em>*). This
ensures that the characters are interpreted by the command and not by the shell.</p>
</div>
<div class="admonition info">
<p class="admonition-title">NOTE</p>
<p>This course has introduced two distinct metacharacter text parsing systems: shell
pattern matching (also known as file globbing or file-name expansion), and regular
expressions. Because both systems use similar metacharacters, such as the asterisk
(*), but have differences in metacharacter interpretation and rules, the two systems
can be confusing until each is sufficiently mastered.</p>
<p>Pattern matching is a command-line parsing technique designed for specifying
many file names easily, and is primarily supported only for representing file-name
patterns on the command line. Regular expressions are designed to represent
any form or pattern in text strings, no matter how complex. Regular expression
are internally supported by numerous text processing commands, such as <strong>grep,
sed, awk, python, perl</strong>, and many applications, with some minimal command-
dependent variations in interpretation rules.</p>
</div>
<p><strong>Regular Expressions</strong></p>
<table>
<thead>
<tr>
<th>OPTION</th>
<th>DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr>
<td>.</td>
<td>The period (.) matches any single character.</td>
</tr>
<tr>
<td>?</td>
<td>The preceding item is optional and will be matched at most once.</td>
</tr>
<tr>
<td>*</td>
<td>The preceding item will be matched zero or more times.</td>
</tr>
<tr>
<td>+</td>
<td>The preceding item will be matched one or more times.</td>
</tr>
<tr>
<td>{n}</td>
<td>The preceding item is matched exactly n times.</td>
</tr>
<tr>
<td>{n,}</td>
<td>The preceding item is matched n or more times.</td>
</tr>
<tr>
<td>{,m}</td>
<td>The preceding item is matched at most m times.</td>
</tr>
<tr>
<td>{n,m}</td>
<td>The preceding item is matched at least n times, but not more than m times.</td>
</tr>
<tr>
<td>[:alnum:]</td>
<td>Alphanumeric characters: '[:alpha:]' and '[:digit:]'; in the 'C' locale and ASCII character encoding this is the same as '[0-9A-Za-z]'.</td>
</tr>
<tr>
<td>[:alpha:]</td>
<td>Alphabetic characters: '[:lower:]' and '[:upper:]'; in the 'C' locale and ASCII character encoding, this is the same as '[A-Za-z]'.</td>
</tr>
<tr>
<td>[:blank:]</td>
<td>Blank characters: space and tab.</td>
</tr>
<tr>
<td>[:cntrl:]</td>
<td>Control characters. In ASCII, these characters have octal codes 000 through 037, and 177 (DEL). In other character sets, these are the equivalent characters, if any.</td>
</tr>
<tr>
<td>[:digit:]</td>
<td>Digits: 0 1 2 3 4 5 6 7 8 9.</td>
</tr>
<tr>
<td>[:graph:]</td>
<td>Graphical characters: '[:alnum:]' and '[:punct:]'.</td>
</tr>
<tr>
<td>[:lower:]</td>
<td>Lower-case letters; in the 'C' locale and ASCII character encoding, this is a b c d e f g h i j k l m n o p q r s t u v w x y z.</td>
</tr>
<tr>
<td>[:print:]</td>
<td>Printable characters: '[:alnum:]', '[:punct:]', and space.</td>
</tr>
<tr>
<td>[:punct:]</td>
<td>Punctuation characters; in the 'C' locale and ASCII character encoding, this is! " # $ % &amp; ' ( ) * + , - . / : ; &lt; = &gt; ? @ [  ] ^ _ ' {</td>
</tr>
<tr>
<td>[:space:]</td>
<td>Space characters: in the 'C' locale, this is tab, newline, vertical tab, form feed,carriage return, and space.</td>
</tr>
<tr>
<td>[:upper:]</td>
<td>Upper-case letters: in the 'C' locale and ASCII character encoding, this is A B C D E F G H I J K L M N O P Q R S T U V W X Y Z.</td>
</tr>
<tr>
<td>[:xdigit:]</td>
<td>Hexadecimal digits: 0 1 2 3 4 5 6 7 8 9 A B C D E F a b c d e f.</td>
</tr>
<tr>
<td>\b</td>
<td>Match the empty string at the edge of a word.</td>
</tr>
<tr>
<td>\B</td>
<td>Match the empty string provided it is not at the edge of a word.</td>
</tr>
<tr>
<td>\&lt;</td>
<td>Match the empty string at the beginning of word.</td>
</tr>
<tr>
<td>">"</td>
<td>Match the empty string at the end of word.</td>
</tr>
<tr>
<td>\w</td>
<td>Match word constituent. Synonym for '[_[:alnum:]]'.</td>
</tr>
<tr>
<td>\W</td>
<td>Match non-word constituent. Synonym for '[^_[:alnum:]]'.</td>
</tr>
<tr>
<td>\s</td>
<td>Match white space. Synonym for '[[:space:]]'.</td>
</tr>
<tr>
<td>\S</td>
<td>Match non-whitespace. Synonym for '[^[:space:]]'.</td>
</tr>
</tbody>
</table>
<h3 id="matching-regular-expressions-with-grep">MATCHING REGULAR EXPRESSIONS WITH GREP<a class="headerlink" href="#matching-regular-expressions-with-grep" title="Permanent link">&para;</a></h3>
<p>The <strong>grep</strong> command, provided as part of the distribution, uses regular expressions to isolate
matching data.</p>
<p><strong>Isolating data using the grep command</strong></p>
<p>The grep command provides a regular expression and a file on which the regular expression
should be matched.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ grep <span class="s1">&#39;^computer&#39;</span> /usr/share/dict/words
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>computer
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>computerese
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>computerise
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>computerite
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>computerizable
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>computerization
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>computerize
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>computerized
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a>computerizes
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a>computerizing
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a>computerlike
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a>computernik
<a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a>computers
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">NOTE<p>It is recommend practice to use single quotes to encapsulate the regular expression
because they often contain shell metacharacters (such as $, *, and {}). This ensures
that the characters are interpreted by <em>grep</em> and not by the shell.</p>
</p>
</div>
<p>The <strong>grep</strong> command can be used in conjunction with other commands using a pipe operator (|).
For example:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># ps aux | grep chrony</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>chrony  <span class="m">662</span>     <span class="m">0</span>.0     <span class="m">0</span>.1     <span class="m">29440</span>   <span class="m">2468</span> ?    S     <span class="m">10</span>:56   <span class="m">0</span>:00 /usr/sbin/chronyd
</code></pre></div>
<strong>grep Options</strong></p>
<p>The <strong>grep</strong> command has many useful options for adjusting how it uses the provided regular
expression with data.</p>
<p><strong>Table of Common grep Options</strong></p>
<table>
<thead>
<tr>
<th>OPTION</th>
<th>FUNCTION</th>
</tr>
</thead>
<tbody>
<tr>
<td>-i</td>
<td>Use the regular expression provided but do not enforce case sensitivity (run case-insensitive).</td>
</tr>
<tr>
<td>-v</td>
<td>Only display lines that do not contain matches to the regular expression.</td>
</tr>
<tr>
<td>-r</td>
<td>Apply the search for data matching the regular expression recursively to a group of files or directories.</td>
</tr>
<tr>
<td>-A NUMBER</td>
<td>Display NUMBER of lines after the regular expression match.</td>
</tr>
<tr>
<td>-B NUMBER</td>
<td>Display NUMBER of lines before the regular expression match.</td>
</tr>
<tr>
<td>-e</td>
<td>With multiple -e options used, multiple regular expressions can be supplied and will be used with a logical OR.</td>
</tr>
</tbody>
</table>
<p>There are many other options to <strong>grep</strong>. Use the <strong>man</strong> page to research them.</p>
<p><strong>grep Examples</strong></p>
<p>The next examples use varied configuration files and log files.</p>
<p>Regular expressions are case-sensitive by default. Use the <strong>-i</strong> option with <strong>grep</strong> to run a case-
insensitive search. The following example searches for the pattern <strong>serverroot</strong>.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ cat /etc/httpd/conf/httpd.conf
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>...output omitted...
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>ServerRoot <span class="s2">&quot;/etc/httpd&quot;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>#
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a># Listen: Allows you to bind Apache to specific IP addresses and/or
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a># ports, instead of the default. See also the &lt;VirtualHost&gt;
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a># directive.
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>#
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a># Change this to Listen on specific IP addresses as shown below to
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a># prevent Apache from glomming onto all bound IP addresses.
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>#
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a>#Listen 12.34.56.78:80
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a>Listen 80
</code></pre></div></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ grep -i serverroot /etc/httpd/conf/httpd.conf
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="c1"># with &quot;/&quot;, the value of ServerRoot is prepended -- so &#39;log/access_log&#39;</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="c1"># with ServerRoot set to &#39;/www&#39; will be interpreted by the</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="c1"># ServerRoot: The top of the directory tree under which the server&#39;s</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="c1"># ServerRoot at a non-local disk, be sure to specify a local disk on the</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="c1"># same ServerRoot for multiple httpd daemons, you will need to change at</span>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a>ServerRoot <span class="s2">&quot;/etc/httpd&quot;</span>
</code></pre></div>
In cases where you know what you are not looking for, the <strong>-v</strong> option is very useful. The <strong>-v</strong> option
only displays lines that do not match the regular expression. In the following example, all lines,
regardless of case, that do not contain the regular expression <strong>server</strong> are returned.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ cat /etc/hosts
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="m">127</span>.0.0.1
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a> localhost localhost.localdomain localhost4 localhost4.localdomain4
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a>::1
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a> localhost localhost.localdomain localhost6 localhost6.localdomain6
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="m">172</span>.25.254.254 classroom.example.com classroom
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="m">172</span>.25.254.254 content.example.com content
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="m">172</span>.25.254.254 materials.example.com materials
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="m">172</span>.25.250.254 workstation.lab.example.com workstation
<a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="c1">### rht-vm-hosts file listing the entries to be appended to /etc/hosts</span>
<a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="m">172</span>.25.250.10
<a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="m">172</span>.25.250.11
<a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="m">172</span>.25.250.254
<a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a>servera.lab.example.com servera
<a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a>serverb.lab.example.com serverb
<a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a>workstation.lab.example.com workstation
<a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ grep -v -i server /etc/hosts
<a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="m">127</span>.0.0.1
<a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a> localhost localhost.localdomain localhost4 localhost4.localdomain4
<a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a>::1
<a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a> localhost localhost.localdomain localhost6 localhost6.localdomain6
<a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a><span class="m">172</span>.25.254.254 classroom.example.com classroom
<a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a><span class="m">172</span>.25.254.254 content.example.com content
<a id="__codelineno-31-24" name="__codelineno-31-24" href="#__codelineno-31-24"></a><span class="m">172</span>.25.254.254 materials.example.com materials
<a id="__codelineno-31-25" name="__codelineno-31-25" href="#__codelineno-31-25"></a><span class="m">172</span>.25.250.254 workstation.lab.example.com workstation
<a id="__codelineno-31-26" name="__codelineno-31-26" href="#__codelineno-31-26"></a><span class="c1">### rht-vm-hosts file listing the entries to be appended to /etc/hosts</span>
<a id="__codelineno-31-27" name="__codelineno-31-27" href="#__codelineno-31-27"></a><span class="m">172</span>.25.250.254
<a id="__codelineno-31-28" name="__codelineno-31-28" href="#__codelineno-31-28"></a> workstation.lab.example.com workstation
</code></pre></div>
To look at a file without being distracted by comment lines use the <strong>-v</strong> option. In the following
example, the regular expression matches all lines that begin with a # or ; (typical characters that
indicate the line will be interpreted as a comment). Those lines are then omitted from the output.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ cat /etc/ethertypes
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="c1">#</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="c1"># Ethernet frame types</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="c1">#</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a> This file describes some of the various Ethernet
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="c1">#</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a> protocol types that are used on Ethernet networks.
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="c1">#</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="c1"># This list could be found on:</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="c1">#</span>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a> http://www.iana.org/assignments/ethernet-numbers
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="c1">#</span>
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a> http://www.iana.org/assignments/ieee-802-numbers
<a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a><span class="c1">#</span>
<a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a><span class="c1"># &lt;name&gt;</span>
<a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a> &lt;hexnumber&gt; &lt;alias1&gt;...&lt;alias35&gt; <span class="c1">#Comment</span>
<a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a><span class="c1">#</span>
<a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a>IPv4     <span class="m">0800</span>    ip ip4      <span class="c1"># Internet IP (IPv4)</span>
<a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a>X25      <span class="m">0805</span>
<a id="__codelineno-32-20" name="__codelineno-32-20" href="#__codelineno-32-20"></a>ARP      <span class="m">0806</span>    ether-arp  <span class="c1">#</span>
<a id="__codelineno-32-21" name="__codelineno-32-21" href="#__codelineno-32-21"></a>FR_ARP      <span class="m">0808</span>            <span class="c1"># Frame Relay ARP    [RFC1701]</span>
<a id="__codelineno-32-22" name="__codelineno-32-22" href="#__codelineno-32-22"></a>
<a id="__codelineno-32-23" name="__codelineno-32-23" href="#__codelineno-32-23"></a><span class="o">[</span>user@host ~<span class="o">]</span>$ grep -v <span class="s1">&#39;^[#;]&#39;</span> /etc/ethertypes
<a id="__codelineno-32-24" name="__codelineno-32-24" href="#__codelineno-32-24"></a>IPv4     <span class="m">0800</span>    ip ip4      <span class="c1"># Internet IP (IPv4)</span>
<a id="__codelineno-32-25" name="__codelineno-32-25" href="#__codelineno-32-25"></a>X25      <span class="m">0805</span>
<a id="__codelineno-32-26" name="__codelineno-32-26" href="#__codelineno-32-26"></a>ARP      <span class="m">0806</span>    ether-arp   <span class="c1">#</span>
<a id="__codelineno-32-27" name="__codelineno-32-27" href="#__codelineno-32-27"></a>FR_ARP   <span class="m">0808</span>    <span class="c1"># Frame Relay ARP   [RFC1701]</span>
</code></pre></div>
<p>The <strong>grep</strong> command with the <strong>-e</strong> option allows you to search for more than one regular expression
at a time. The following example, using a combination of <strong>less</strong> and <strong>grep</strong>, locates all occurrences of
<strong>pam_unix, user root</strong> and <strong>Accepted publickey</strong> in the <strong>/var/log/secure</strong> log file.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># cat /var/log/secure | grep -e &#39;pam_unix&#39; \</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>-e <span class="s1">&#39;user root&#39;</span> -e <span class="s1">&#39;Accepted publickey&#39;</span> <span class="p">|</span> less
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>Mar <span class="m">19</span> <span class="m">08</span>:04:46 jegui sshd<span class="o">[</span><span class="m">6141</span><span class="o">]</span>: pam_unix<span class="o">(</span>sshd:session<span class="o">)</span>: session opened <span class="k">for</span> user
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>root by <span class="o">(</span><span class="nv">uid</span><span class="o">=</span><span class="m">0</span><span class="o">)</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>Mar <span class="m">19</span> <span class="m">08</span>:04:50 jegui sshd<span class="o">[</span><span class="m">6144</span><span class="o">]</span>: Disconnected from user root <span class="m">172</span>.25.250.254 port
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="m">41170</span>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a>Mar <span class="m">19</span> <span class="m">08</span>:04:50 jegui sshd<span class="o">[</span><span class="m">6141</span><span class="o">]</span>: pam_unix<span class="o">(</span>sshd:session<span class="o">)</span>: session closed <span class="k">for</span> user
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a>root
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a>Mar <span class="m">19</span> <span class="m">08</span>:04:53 jegui sshd<span class="o">[</span><span class="m">6168</span><span class="o">]</span>: Accepted publickey <span class="k">for</span> student from
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="m">172</span>.25.250.254 port <span class="m">41172</span> ssh2: RSA SHA256:M8ikhcEDm2tQ95Z0o7ZvufqEixCFCt
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a>+wowZLNzNlBT0
</code></pre></div>
To search for text in a file opened using <strong>vim</strong> or <strong>less</strong>, use the slash character (/) and type the
pattern to find. Press <strong>Enter</strong> to start the search. Press <strong>N</strong> to find the next match.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># vim /var/log/boot.log</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>...output omitted...
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="o">[</span>^<span class="o">[[</span><span class="m">0</span><span class="p">;</span>32m OK ^<span class="o">[[</span>0m<span class="o">]</span> Reached target Initrd Default Target.^M
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>Starting dracut pre-pivot and cleanup hook...^M
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="o">[</span>^<span class="o">[[</span><span class="m">0</span><span class="p">;</span>32m OK ^<span class="o">[[</span>0m<span class="o">]</span> Started dracut pre-pivot and cleanup hook.^M
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>Starting Cleaning Up and Shutting Down Daemons...^M
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a>Starting Plymouth switch root service...^M
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a>Starting Setup Virtual Console...^M
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="o">[</span>^<span class="o">[[</span><span class="m">0</span><span class="p">;</span>32m OK ^<span class="o">[[</span>0m<span class="o">]</span> Stopped target Timers.^M
<a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a><span class="o">[</span>^<span class="o">[[</span><span class="m">0</span><span class="p">;</span>32m OK ^<span class="o">[[</span>0m<span class="o">]</span> Stopped dracut pre-pivot and cleanup hook.^M
<a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a><span class="o">[</span>^<span class="o">[[</span><span class="m">0</span><span class="p">;</span>32m OK ^<span class="o">[[</span>0m<span class="o">]</span> Stopped target Initrd Default Target.^M
<a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a><span class="o">[</span>root@host ~<span class="o">]</span><span class="c1"># less /var/log/messages</span>
<a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a>...output omitted...
<a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a>Feb <span class="m">26</span> <span class="m">15</span>:51:07 jegui NetworkManager<span class="o">[</span><span class="m">689</span><span class="o">]</span>: &lt;info&gt;
<a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a> <span class="o">[</span><span class="m">1551214267</span>.8584<span class="o">]</span> Loaded device
<a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a>plugin: NMTeamFactory <span class="o">(</span>/usr/lib64/NetworkManager/1.14.0-14.el8/libnm-device-
<a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a>plugin-team.so<span class="o">)</span>
<a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a>Feb <span class="m">26</span> <span class="m">15</span>:51:07 jegui NetworkManager<span class="o">[</span><span class="m">689</span><span class="o">]</span>: &lt;info&gt;
<a id="__codelineno-34-19" name="__codelineno-34-19" href="#__codelineno-34-19"></a> <span class="o">[</span><span class="m">1551214267</span>.8599<span class="o">]</span> device <span class="o">(</span>lo<span class="o">)</span>:
<a id="__codelineno-34-20" name="__codelineno-34-20" href="#__codelineno-34-20"></a>carrier: link connected
<a id="__codelineno-34-21" name="__codelineno-34-21" href="#__codelineno-34-21"></a>Feb <span class="m">26</span> <span class="m">15</span>:51:07 jegui NetworkManager<span class="o">[</span><span class="m">689</span><span class="o">]</span>: &lt;info&gt;
<a id="__codelineno-34-22" name="__codelineno-34-22" href="#__codelineno-34-22"></a> <span class="o">[</span><span class="m">1551214267</span>.8600<span class="o">]</span> manager:
<a id="__codelineno-34-23" name="__codelineno-34-23" href="#__codelineno-34-23"></a><span class="o">(</span>lo<span class="o">)</span>: new Generic device <span class="o">(</span>/org/freedesktop/NetworkManager/Devices/1<span class="o">)</span>
<a id="__codelineno-34-24" name="__codelineno-34-24" href="#__codelineno-34-24"></a>Feb <span class="m">26</span> <span class="m">15</span>:51:07 jegui NetworkManager<span class="o">[</span><span class="m">689</span><span class="o">]</span>: &lt;info&gt;
<a id="__codelineno-34-25" name="__codelineno-34-25" href="#__codelineno-34-25"></a> <span class="o">[</span><span class="m">1551214267</span>.8623<span class="o">]</span> manager:
<a id="__codelineno-34-26" name="__codelineno-34-26" href="#__codelineno-34-26"></a><span class="o">(</span>ens3<span class="o">)</span>: new Ethernet device <span class="o">(</span>/org/freedesktop/NetworkManager/Devices/2<span class="o">)</span>
<a id="__codelineno-34-27" name="__codelineno-34-27" href="#__codelineno-34-27"></a>Feb <span class="m">26</span> <span class="m">15</span>:51:07 jegui NetworkManager<span class="o">[</span><span class="m">689</span><span class="o">]</span>: &lt;info&gt;
<a id="__codelineno-34-28" name="__codelineno-34-28" href="#__codelineno-34-28"></a> <span class="o">[</span><span class="m">1551214267</span>.8653<span class="o">]</span> device
<a id="__codelineno-34-29" name="__codelineno-34-29" href="#__codelineno-34-29"></a><span class="o">(</span>ens3<span class="o">)</span>: state change: unmanaged -&gt; unavailable <span class="o">(</span>reason <span class="s1">&#39;managed&#39;</span>, sys-iface-
<a id="__codelineno-34-30" name="__codelineno-34-30" href="#__codelineno-34-30"></a>state: <span class="s1">&#39;external&#39;</span><span class="o">)</span>
<a id="__codelineno-34-31" name="__codelineno-34-31" href="#__codelineno-34-31"></a>/device
</code></pre></div>
<h3 id="summary">SUMMARY<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h3>
<p>In this chapter, you learned:</p>
<ul>
<li>
<p>How to create and execute simple Bash scripts.</p>
</li>
<li>
<p>How to use loops to iterate through a list of items from the command-line and in a shell script.</p>
</li>
<li>
<p>How to search for text in log files and configuration files using regular expressions and grep.</p>
</li>
</ul>
<h3 id="lab">LAB<a class="headerlink" href="#lab" title="Permanent link">&para;</a></h3>
<p>pdf - 31</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">December 5, 2022</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../../redhat/review/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Comprehensive Review" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Comprehensive Review
            </div>
          </div>
        </a>
      
      
        
        <a href="../tasks/" class="md-footer__link md-footer__link--next" aria-label="Next: Scheduling Future Tasks" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Scheduling Future Tasks
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 Divijesh Varma. All rights reserved.
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "navigation.top", "navigation.sections", "content.tooltips", "header.autohide"], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="../../javascripts/feedback.js"></script>
      
    
    
  </body>
</html>